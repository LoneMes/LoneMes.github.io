(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4591:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(127)}])},127:function(e,t,r){"use strict";let n;r.r(t),r.d(t,{default:function(){return pages}});var o,a,s=r(1527),i=r(959),l=r(9845);(o=a||(a={})).DEF="def",o.PC="pc",o.MOBILE="mobile";var root=e=>{let{MRoot:t,PCRoot:r}=e,[n,o]=i.useState("def");return i.useEffect(()=>{l.tq?o("mobile"):o("pc")},[]),(0,s.jsx)(s.Fragment,{children:"def"===n?null:"mobile"===n?(0,s.jsx)(t,{}):(0,s.jsx)(r,{})})},c=r(1932),p=r.n(c),u=r(5908),d=r(9243),m=r.n(d),b=r(2458),h=r.n(b),g=r(1166),_=r(1820);let f={login:"v1/user/login",balance:"v1/user/balance",ws:"v1/ws",subscribe:"v1/ws/subscribe",unSubscribe:"v1/ws/unsubscribe",betting:"v1/game/sicbo/betting",exchangeRate:"v1/token_exchange_rate"};_.Z.defaults.baseURL="https://gw.dafengji668.us/",_.Z.defaults.withCredentials=!1,_.Z.interceptors.response.use(e=>({...e.data,headers:e.headers}));var v=_.Z,x=r(2934);let useLogin=()=>({loginTg:async function(e){try{let t=await v.post(f.login,{params:e});if(t&&0===t.code)return{token:t.headers.token,user_id:t.data.user_id}}catch(e){return}}}),useToken=()=>{let e=(0,g.I0)(),t=(0,g.v9)(e=>e.app.userInfo.token);return{token:t,setUserToken:function(t){e({type:"app/setUserToken",payload:t})}}},useUserId=()=>{let e=(0,g.I0)(),t=(0,g.v9)(e=>e.app.userInfo.user_id);return{user_id:t,setUserId:function(t){e({type:"app/setUserId",payload:t})}}},useBalance=()=>{let{token:e}=useToken();console.log("token",e);let[t,r]=(0,i.useState)({BTC:"0.00",ETH:"0.00",TRX:"0.00",USDT:"0.00"}),[n,o]=(0,i.useState)(!1);async function getData(){try{o(!0);let t=await v.get(f.balance,{headers:{Authorization:e}});t&&0===t.code&&r({BTC:"0.00",...t.data.balance})}catch(e){console.error("get Balance error"),r({BTC:"0.00",ETH:"0.00",TRX:"0.00",USDT:"0.00"})}finally{o(!1)}}return(0,x.Z)(getData),{balance:t,refresh:function(){getData()},loading:n}},useSymbolRate=()=>{let{token:e}=useToken(),[t,r]=(0,i.useState)([]),[n,o]=(0,i.useState)(!1);async function getData(){try{o(!0);let t=await v.get(f.exchangeRate,{headers:{Authorization:e}});t&&0===t.code&&r(t.data.token_exchange_rates)}catch(e){console.error("get rate error"),r([])}finally{o(!1)}}return(0,x.Z)(getData),{rateList:t,refresh:function(){getData()},loading:n}},useSubscribe=()=>{let{token:e}=useToken();return{subRequest:async function(){try{let t=await v.post(f.subscribe,{topic:"game_sicbo"},{headers:{Authorization:e}});if(t&&0===t.code)return{result:!0};return{result:!1,msg:t.msg}}catch(e){return{result:!1,msg:"Network Error"}}finally{}},unSubRequest:async function(){try{let t=await v.post(f.unSubscribe,{topic:"game_scibo"},{headers:{Authorization:e}});if(t&&0===t.code)return{result:!0};return{result:!1,msg:t.msg}}catch(e){return{result:!1,msg:"Network Error"}}finally{}}}},useScibo=()=>{let e=(0,g.I0)(),t=(0,g.v9)(e=>e.app.sicbo);return{sicbo:t,setScibo:function(t){e({type:"app/setScibo",payload:t})}}},useBet=()=>{let[e,t]=(0,i.useState)(!1),{token:r}=useToken(),{sicbo:n,setScibo:o}=useScibo(),{balance:a,refresh:s}=useBalance();async function betRequest(e){try{t(!0);let o=await v.post(f.betting,{symbol:n.currency,amount:n.currencyAmount,bet_area:e},{headers:{Authorization:r}});if(await s(),o&&0===o.code)return{result:o.data};return{result:void 0,msg:o.msg}}catch(e){return{result:void 0,msg:"Network Error"}}finally{t(!1)}}return(0,i.useEffect)(()=>{Object.keys(a)&&o({...n,balance:a})},[a]),{betRequest,loading:e}},y={0:"b0",1:"b1",2:"b2",3:"b3",4:"b4",5:"b5",6:"b6",7:"b7",8:"b8",9:"b9",10:"b10",11:"b11",12:"b12",13:"b13",14:"b14",15:"b15",16:"b16",17:"b17",700:"b700",100:"b100",200:"b200",300:"b300",400:"b400",500:"b500",600:"b600",1e3:"b1000",2e3:"b2000",3e3:"b3000",4e3:"b4000",5e3:"b5000",6e3:"b6000"},useBetArea=()=>{let e=(0,g.I0)(),t=(0,g.v9)(e=>e.app.betArea);return{betArea:t,setBetArea:function(t){e({type:"app/setBetArea",payload:t})}}};function HistoryList(){let{sicbo:e}=useScibo(),{theme:t}=(0,u.F)();return console.log("sicbo.historys",e.historys),(0,s.jsxs)("section",{className:m()(h().lotteryResults,{[h().light]:"light"===t}),children:[(0,s.jsx)("ul",{className:m()(h().historyResultList,{[h().listHide]:0===e.historys.length}),id:"crash-list",children:e.historys.length&&e.historys.map((e,t)=>(0,s.jsx)("li",{children:(0,s.jsx)("span",{children:e.point})},t))}),(0,s.jsx)("div",{className:m()(h().notHistryText,h().notHistryTextColor),style:{display:0===e.historys.length?"flex":"none"},children:"Only show record after connect!"}),(0,s.jsx)("div",{className:h().lotteryBtn,children:(0,s.jsx)("i",{className:h().btnIcon,style:{backgroundImage:"url(/static/".concat(t,"/").concat(t,"_clock.svg)")}})})]})}var w=r(1549),A=r(5770),k=r.n(A);function BlockchainSelect(){let{theme:e}=(0,u.F)(),{balance:t,refresh:r}=useBalance(),{token:n}=useToken(),{sicbo:o,setScibo:a}=useScibo(),[l,c]=(0,i.useState)(!1),[p,d]=(0,i.useState)(!1),[b,h]=(0,i.useState)("USDT");(0,i.useEffect)(()=>{n&&r()},[n]),(0,i.useEffect)(()=>{Object.keys(t)&&a({...o,balance:t,currency:b})},[t,b]);let g=(0,i.useMemo)(()=>Object.keys(o.balance).map(e=>{if(p){var t;return{currency:e,value:Number(Number.parseInt(o.balance[e])*Number.parseFloat(null===(t=o.rates[e])||void 0===t?void 0:t.usd_exchange_rate)).toFixed(2)}}return{currency:e,value:o.balance[e]}}),[o.balance,p]),radioClick=(e,t)=>{h(t)};return(0,s.jsx)("section",{className:m()(k().blockchainSelect,{[k().light]:"light"===e}),children:(0,s.jsxs)("div",{className:m()(k().selectBox,{[k().forceBorder]:l}),onClick:e=>{c(!l),e.stopPropagation()},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("img",{className:k().blockchainIcon,src:"/static/common/img_".concat(o.currency,"@3x.png")}),(0,s.jsx)("span",{className:k().blockchainAmount,children:o.balance[o.currency]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("i",{className:m()(k().arrowIcon,{[k().forceClick]:l}),style:{background:"url(/static/".concat(e,"/").concat(e,"_arrow_icon.png)")}})}),(0,s.jsxs)("ul",{className:m()(k().selectList,{[k().selectUlShow]:l}),children:[g&&g.length?g.map(e=>(0,s.jsxs)("li",{className:m()({[k().liActive]:b===e.currency}),onClick:t=>radioClick(t,e.currency),children:[(0,s.jsxs)("div",{className:k().blockchainName,children:[(0,s.jsx)("img",{src:"/static/common/img_".concat(e.currency,"@3x.png")}),(0,s.jsx)("span",{className:k().name,children:e.currency})]}),(0,s.jsxs)("div",{className:k().radioWrapper,children:[(0,s.jsx)("div",{className:k().blockchainValue,children:e.value}),(0,s.jsx)("i",{className:m()({[k().checked]:b===e.currency})})]})]})):null,g&&g.length?(0,s.jsxs)("li",{onClick:e=>{e.stopPropagation()},id:"last",className:k().switchContent,children:[(0,s.jsx)("span",{className:k().displayTxt,children:"Display digital currency in fiat currency "}),(0,s.jsx)("div",{children:(0,s.jsx)(w.Z,{className:k().switch,checked:p,onChange:e=>{d(!p)}})})]}):null]})]})})}var T=r(2997),j=r.n(T),E=r(5769),B=r.n(E);function AniRender(e){var t,r;let{sicbo:o}=useScibo(),[a,l]=(0,i.useState)(-1),[c,p]=(0,i.useState)(1e4),[d,b]=(0,i.useState)(0),{theme:h,setTheme:g}=(0,u.F)(),calculateTimeParts=e=>{let t=Math.floor(e/1e3),r=e%1e3;return{secondsTens:Math.floor(t/10),secondsOnes:t%10,millisecondsHundreds:Math.floor(r/100),millisecondsTens:Math.floor(r%100/10),millisecondsOnes:r%10}},[_,f]=(0,i.useState)(calculateTimeParts(c));return((0,i.useEffect)(()=>{var e;if(!o.betData){l(-1);return}if(n&&clearInterval(n),(null===(e=o.betData)||void 0===e?void 0:e.state)===1){l(2),setTimeout(()=>{l(3)},2e3);return}if(10===o.betData.ready_countdown_sec){let e=new Date().getTime()+1e4;b(e),p(1e4)}else{let e=1e3*o.betData.ready_countdown_sec+new Date().getTime();b(e),p(1e4)}l(1)},[o.betData]),(0,i.useEffect)(()=>{if(1===a){if(c>0){let e=setTimeout(()=>{let t=d-new Date().getTime();p(t),f(calculateTimeParts(t)),clearTimeout(e)},1);return}f(calculateTimeParts(0))}},[c,a]),o.betData)?1===a?(0,s.jsxs)("div",{className:m()(B().aniRoot,{[B().light]:"light"===h}),children:[(0,s.jsx)("div",{className:B().twoItem,children:_.secondsOnes}),(0,s.jsx)("div",{className:B().twoItem,children:_.millisecondsHundreds}),(0,s.jsx)("div",{className:B().twoItem,children:_.millisecondsTens}),(0,s.jsxs)("div",{className:B().twoItem,children:[_.millisecondsOnes,(0,s.jsx)("span",{className:B().twoItemMs,children:"ms"})]})]}):2===a?(0,s.jsx)("div",{className:m()(B().aniRoot,{[B().light]:"light"===h}),children:[,,,].fill(0).map((e,t)=>(0,s.jsx)("img",{className:B().twoImg,src:"/static/common/Dice_04_Preview.gif",alt:""},t))}):(null===(t=o.betData)||void 0===t?void 0:t.point)?(0,s.jsx)("div",{className:m()(B().aniRoot,{[B().light]:"light"===h}),children:((null===(r=o.betData)||void 0===r?void 0:r.point)+"").split("").map((e,t)=>(0,s.jsx)("img",{className:B().twoImg,src:"/static/common/Dice_0".concat(e,"@3x.png"),alt:""},t))}):(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(s.Fragment,{})}var C=r(2484),N=r.n(C),S=r(9892),W=r(2296);function TransAni(e){let{theme:t}=(0,u.F)(),r=(0,i.useRef)([]),n=(0,i.useRef)(null),[o,a]=(0,i.useState)([]),[l,c]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{if(!e.arr||void 0===e.arr[0])return;let t=e.arr.filter(e=>!r.current.find(t=>t.id===e.id));a(n=>{let o=[...t,...n];return o.length>(e.max||3)&&(o.length=e.max||3),r.current=o,o}),c(!1),clearTimeout(n.current),n.current=setTimeout(()=>{c(!0)},400)},[e.arr,e.max]),!function(e,t,r){let n=(0,i.useRef)(()=>{});(0,i.useEffect)(()=>{n.current=e}),(0,i.useEffect)(()=>{let e=new Date().getTime();if(t>0){let o=setInterval(()=>{n.current();let t=new Date().getTime();r&&t-e>r&&clearInterval(o)},t||0);return()=>clearInterval(o)}},[t,r])}(()=>{a(e=>{let t=[...e];return t.pop(),t})},o.length&&l?400:0),(0,s.jsx)(S.Z,{className:m()(N().root,{[N().light]:"light"===t}),children:o.map((e,t)=>(0,s.jsx)(W.Z,{timeout:100,classNames:"ani",children:(0,s.jsxs)("div",{className:m()(N().tip),style:{opacity:0===t||2===t?1:.5},children:[(e.bet_area<4||e.bet_area>17)&&1e3!==e.bet_area&&2e3!==e.bet_area&&3e3!==e.bet_area&&4e3!==e.bet_area&&5e3!==e.bet_area&&6e3!==e.bet_area?(0,s.jsx)("img",{src:"/static/common/img_".concat(e.symbol,"@3x.png"),alt:""}):null,(0,s.jsx)("div",{className:N().txt,children:e.amount})]})},e.id))})}function TopBetArea(){let{betArea:e}=useBetArea(),{theme:t}=(0,u.F)(),{betRequest:r}=useBet();return console.log("betArea",e),(0,s.jsxs)("section",{className:m()(j().topArea,{[j().light]:"light"===t}),style:{background:"url(/static/".concat(t,"/").concat(t,"_card_bg.png)")},children:[(0,s.jsxs)("div",{className:j().space,children:[(0,s.jsxs)("div",{className:m()(j().one,j().rippleHandler,"ripple-handler"),id:"b2",style:{border:"light"===t?"1px solid rgba(111, 111, 111, 0.2)":"none"},onClick:()=>r(2),children:[(0,s.jsx)("span",{className:j().title,children:"Odd"}),(0,s.jsx)("span",{className:j().subTitle,children:"2.02x"}),(0,s.jsx)("span",{className:j().symbol,children:(0,s.jsxs)("span",{className:j().symbolContent,children:[(0,s.jsx)("img",{src:"/static/common/img_BTC@3x.png",className:j().symbolImg}),"0.00"]})}),(0,s.jsx)("span",{className:m()(j().rippleMask,"ripple-mask"),children:(0,s.jsx)("span",{className:m()(j().ripple,"ripple")})}),(0,s.jsx)(TransAni,{arr:[e.b2],max:3})]}),(0,s.jsx)("div",{className:j().two,children:(0,s.jsx)(AniRender,{})}),(0,s.jsxs)("div",{className:m()(j().three,j().rippleHandler,"ripple-handler"),id:"b3",style:{border:"light"===t?"1px solid rgba(111, 111, 111, 0.2)":"none"},onClick:()=>r(3),children:[(0,s.jsx)("span",{className:j().title,children:"Even"}),(0,s.jsx)("span",{className:j().subTitle,children:"2.02x"}),(0,s.jsx)("span",{className:j().symbol,children:(0,s.jsxs)("span",{className:j().symbolContent,children:[(0,s.jsx)("img",{src:"/static/common/img_BTC@3x.png",className:j().symbolImg}),"0.00"]})}),(0,s.jsx)("span",{className:m()(j().rippleMask,"ripple-mask"),children:(0,s.jsx)("span",{className:m()(j().ripple,"ripple")})}),(0,s.jsx)(TransAni,{arr:[e.b3],max:3})]})]}),(0,s.jsxs)("div",{className:j().space,children:[(0,s.jsxs)("div",{className:m()(j().one,j().rippleHandler,"ripple-handler"),id:"b0",style:{border:"light"===t?"1px solid rgba(111, 111, 111, 0.2)":"none"},onClick:()=>r(0),children:[(0,s.jsx)("span",{className:j().title,children:"Small"}),(0,s.jsx)("span",{className:j().subTitle,children:"2.02x"}),(0,s.jsx)("span",{className:j().symbol,children:(0,s.jsxs)("span",{className:j().symbolContent,children:[(0,s.jsx)("img",{src:"/static/common/img_BTC@3x.png",className:j().symbolImg}),"0.00"]})}),(0,s.jsx)("span",{className:m()(j().rippleMask,"ripple-mask"),children:(0,s.jsx)("span",{className:m()(j().ripple,"ripple")})}),(0,s.jsx)(TransAni,{arr:[e.b0],max:3})]}),(0,s.jsxs)("div",{className:m()(j().five,j().rippleHandler,"ripple-handler"),id:"b700",style:{border:"light"===t?"1px solid rgba(111, 111, 111, 0.2)":"none"},onClick:()=>r(700),children:[(0,s.jsx)("span",{className:j().title,children:"Any triple"}),(0,s.jsx)("span",{className:j().subTitle,children:"2.02x"}),(0,s.jsx)("span",{className:j().symbol,children:(0,s.jsxs)("span",{className:j().symbolContent,children:[(0,s.jsx)("img",{src:"/static/common/img_BTC@3x.png",className:j().symbolImg}),"0.00"]})}),(0,s.jsx)("span",{className:m()(j().rippleMask,"ripple-mask"),children:(0,s.jsx)("span",{className:m()(j().ripple,"ripple")})}),(0,s.jsx)(TransAni,{arr:[e.b700],max:3})]}),(0,s.jsxs)("div",{className:m()(j().three,j().rippleHandler,"ripple-handler"),id:"b1",style:{border:"light"===t?"1px solid rgba(111, 111, 111, 0.2)":"none"},onClick:()=>r(1),children:[(0,s.jsx)("span",{className:j().title,children:"Big"}),(0,s.jsx)("span",{className:j().subTitle,children:"2.02x"}),(0,s.jsx)("span",{className:j().symbol,children:(0,s.jsxs)("span",{className:j().symbolContent,children:[(0,s.jsx)("img",{src:"/static/common/img_BTC@3x.png",className:j().symbolImg}),"0.00"]})}),(0,s.jsx)("span",{className:m()(j().rippleMask,"ripple-mask"),children:(0,s.jsx)("span",{className:m()(j().ripple,"ripple")})}),(0,s.jsx)(TransAni,{arr:[e.b1],max:3})]})]})]})}var P=r(2800),I=r.n(P);function MiddBetArea_TopBetArea(){let{theme:e}=(0,u.F)(),{betRequest:t}=useBet(),{betArea:r}=useBetArea();return(0,s.jsxs)("section",{className:m()(I().topArea,{[I().light]:"light"===e}),style:{background:"url(/static/".concat(e,"/").concat(e,"_middle_card_bg.png)")},children:[(0,s.jsxs)("div",{className:I().space,children:[(0,s.jsxs)("div",{className:m()(I().item,I().rippleHandler,"ripple-handler"),id:"b100",onClick:()=>t(100),children:[(0,s.jsx)("img",{src:"/static/common/Dice_01@3x.png"}),(0,s.jsx)("img",{src:"/static/common/Dice_01@3x.png"}),(0,s.jsx)("img",{src:"/static/common/Dice_01@3x.png"}),(0,s.jsx)("span",{className:m()(I().rippleMask,"ripple-mask"),children:(0,s.jsx)("span",{className:m()(I().ripple,"ripple")})}),(0,s.jsx)(TransAni,{arr:[r.b100],max:3})]}),(0,s.jsxs)("div",{className:m()(I().item,I().ml,I().mr,I().rippleHandler,"ripple-handler"),id:"b200",onClick:()=>t(200),children:[(0,s.jsx)("img",{src:"/static/common/Dice_02@3x.png"}),(0,s.jsx)("img",{src:"/static/common/Dice_02@3x.png"}),(0,s.jsx)("img",{src:"/static/common/Dice_02@3x.png"}),(0,s.jsx)("span",{className:m()(I().rippleMask,"ripple-mask"),children:(0,s.jsx)("span",{className:m()(I().ripple,"ripple")})}),(0,s.jsx)(TransAni,{arr:[r.b200],max:3})]}),(0,s.jsxs)("div",{className:m()(I().item,I().rippleHandler,"ripple-handler"),id:"b300",onClick:()=>t(300),children:[(0,s.jsx)("img",{src:"/static/common/Dice_03@3x.png"}),(0,s.jsx)("img",{src:"/static/common/Dice_03@3x.png"}),(0,s.jsx)("img",{src:"/static/common/Dice_03@3x.png"}),(0,s.jsx)("span",{className:m()(I().rippleMask,"ripple-mask"),children:(0,s.jsx)("span",{className:m()(I().ripple,"ripple")})}),(0,s.jsx)(TransAni,{arr:[r.b300],max:3})]})]}),(0,s.jsx)("span",{className:I().txt,children:"156x"}),(0,s.jsxs)("div",{className:I().space,children:[(0,s.jsxs)("div",{className:m()(I().item,I().rippleHandler,"ripple-handler"),id:"b400",onClick:()=>t(400),children:[(0,s.jsx)("img",{src:"/static/common/Dice_04@3x.png"}),(0,s.jsx)("img",{src:"/static/common/Dice_04@3x.png"}),(0,s.jsx)("img",{src:"/static/common/Dice_04@3x.png"}),(0,s.jsx)("span",{className:m()(I().rippleMask,"ripple-mask"),children:(0,s.jsx)("span",{className:m()(I().ripple,"ripple")})}),(0,s.jsx)(TransAni,{arr:[r.b400],max:3})]}),(0,s.jsxs)("div",{className:m()(I().item,I().ml,I().mr,I().rippleHandler,"ripple-handler"),id:"b500",onClick:()=>t(500),children:[(0,s.jsx)("img",{src:"/static/common/Dice_05@3x.png"}),(0,s.jsx)("img",{src:"/static/common/Dice_05@3x.png"}),(0,s.jsx)("img",{src:"/static/common/Dice_05@3x.png"}),(0,s.jsx)("span",{className:m()(I().rippleMask,"ripple-mask"),children:(0,s.jsx)("span",{className:m()(I().ripple,"ripple")})}),(0,s.jsx)(TransAni,{arr:[r.b500],max:3})]}),(0,s.jsxs)("div",{className:m()(I().item,I().rippleHandler,"ripple-handler"),id:"b600",onClick:()=>t(600),children:[(0,s.jsx)("img",{src:"/static/common/Dice_06@3x.png"}),(0,s.jsx)("img",{src:"/static/common/Dice_06@3x.png"}),(0,s.jsx)("img",{src:"/static/common/Dice_06@3x.png"}),(0,s.jsx)("span",{className:m()(I().rippleMask,"ripple-mask"),children:(0,s.jsx)("span",{className:m()(I().ripple,"ripple")})}),(0,s.jsx)(TransAni,{arr:[r.b600],max:3})]})]})]})}var M=r(2995),D=r.n(M);function BottomBetArea_TopBetArea(){let{theme:e}=(0,u.F)(),{betRequest:t}=useBet(),{betArea:r}=useBetArea();return(0,s.jsxs)("section",{className:m()(D().topArea,{[D().light]:"light"===e}),style:{background:"url(/static/".concat(e,"/").concat(e,"_bottom_card_bg.png)")},children:[(0,s.jsx)("span",{className:D().txt,children:"Sum of"}),(0,s.jsxs)("div",{className:D().betArea,children:[(0,s.jsx)("div",{className:D().space,children:[{sum:4,point:66,area:"b4"},{sum:5,point:30,area:"b5"},{sum:6,point:30,area:"b6"},{sum:7,point:18,area:"b7"},{sum:8,point:12,area:"b8"},{sum:9,point:8,area:"b9"},{sum:10,point:6,area:"b10"}].map((e,n)=>(0,s.jsxs)("div",{className:m()(D().item,{[D().rb]:6!==n&&13!==n},D().rippleHandler,"ripple-handler"),onClick:()=>t(Number(e.area.replace("b",""))),children:[(0,s.jsx)("span",{children:e.sum}),(0,s.jsxs)("span",{children:[e.point,"x"]}),(0,s.jsx)("span",{className:m()(D().rippleMask,"ripple-mask"),children:(0,s.jsx)("span",{className:m()(D().ripple,"ripple")})}),(0,s.jsx)(TransAni,{arr:[r[e.area]],max:3})]},n))}),(0,s.jsx)("div",{className:D().space,children:[{sum:17,point:66,area:"b17"},{sum:16,point:66,area:"b16"},{sum:15,point:66,area:"b15"},{sum:14,point:66,area:"b14"},{sum:13,point:66,area:"b13"},{sum:12,point:66,area:"b12"},{sum:11,point:66,area:"b11"}].map((e,n)=>(0,s.jsxs)("div",{className:m()(D().item,D().tb,{[D().rb]:6!==n&&13!==n},D().rippleHandler,"ripple-handler"),onClick:()=>t(Number(e.area.replace("b",""))),children:[(0,s.jsx)("span",{children:e.sum}),(0,s.jsxs)("span",{children:[e.point,"x"]}),(0,s.jsx)("span",{className:m()(D().rippleMask,"ripple-mask"),children:(0,s.jsx)("span",{className:m()(D().ripple,"ripple")})}),(0,s.jsx)(TransAni,{arr:[r[e.area]],max:3})]},n))})]}),(0,s.jsx)("div",{className:D().middleContent,children:[{value:1,area:"b1000"},{value:2,area:"b2000"},{value:3,area:"b3000"},{value:4,area:"b4000"},{value:5,area:"b5000"},{value:6,area:"b6000"}].map((e,n)=>(0,s.jsxs)("div",{className:m()(D().item,D().rippleHandler,"ripple-handler"),id:e.area,onClick:()=>t(Number(e.area.replace("b",""))),children:[(0,s.jsx)("img",{src:"/static/common/Dice_0".concat(e.value,"@3x.png")}),(0,s.jsx)("span",{className:m()(D().rippleMask,"ripple-mask"),children:(0,s.jsx)("span",{className:m()(D().ripple,"ripple")})}),(0,s.jsx)(TransAni,{arr:[r[e.area]],max:3})]},n))}),(0,s.jsxs)("div",{className:D().bottomContent,children:[(0,s.jsx)("span",{children:"One Dice 2x"}),(0,s.jsx)("span",{children:"Two Dice 3x"}),(0,s.jsx)("span",{children:"Three Dice 5x"})]})]})}var H=r(3976),L=r.n(H),O=r(5726),R=r.n(O);let F=r(2117);R().extend(F);let pointString=e=>{if(-1!==e.indexOf(".")){let t=e.split("."),r=t[1],n=Number.parseInt(r.split("").reverse().join("")).toString().split("").reverse().join("");return"0"===n?t[0]:[t[0],".",n].join("")}};var q=r(9872);let V=[{key:"1/10",value:.1},{key:"1/2",value:.5},{key:"2x",value:2},{key:"10x",value:10}];function BetInput_TopBetArea(){let{theme:e}=(0,u.F)(),{sicbo:t,setScibo:r}=useScibo(),[n,o]=(0,i.useState)(""),[a,l]=(0,i.useState)("-"),[c,p]=(0,i.useState)(!1),[d,b]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(n){var e;r({...t,currencyAmount:n});let o=(Number.parseFloat(n)*Number.parseFloat(null===(e=t.rates[t.currency])||void 0===e?void 0:e.usd_exchange_rate)).toFixed(2)||"0.00";l(o)}},[n]),(0,i.useEffect)(()=>{var e,r;if(!t.balance)return;let n=null===(e=t.rates[t.currency])||void 0===e?void 0:e.bet_max;Number(t.balance[t.currency])>Number(n)?o(n):o(t.balance[t.currency]);let a=(Number.parseFloat(t.balance[t.currency])*Number.parseFloat(null===(r=t.rates[t.currency])||void 0===r?void 0:r.usd_exchange_rate)).toFixed(2)||"0.00";l(a)},[t.currency,t.balance,t.rates]);let rateClick=e=>{let r=t.balance[t.currency]||0,a=Number(n),s=(a*=e).toFixed(8);Number(s=pointString(s))>r?o(r):o(s)};return(0,s.jsxs)("section",{className:m()(L().betInput,{[L().light]:"light"===e}),style:{background:"url(/static/".concat(e,"/").concat(e,"_bet_input_bg.png)")},children:[(0,s.jsxs)("div",{className:L().topTip,children:[(0,s.jsxs)("span",{children:["Total Bet: $",isNaN(a)?"0.00":a]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:L().tipTxt,children:"Repeat"}),(0,s.jsx)(w.Z,{className:L().switch,checked:d,onChange:e=>{b(!d)}})]})]}),(0,s.jsxs)("div",{className:L().inputBox,children:[(0,s.jsx)("img",{className:L().prefix,src:"/static/common/img_".concat(t.currency,"@3x.png")}),(0,s.jsx)("input",{className:m()(L().input,{[L().inputError]:c}),type:"number",pattern:"[0-9]*",inputMode:"decimal",maxLength:9,onChange:e=>{p(!1);let r=e.target.value;if(""===r){o("");return}let n=t.balance[t.currency]||0;Number.parseFloat(r)>Number.parseFloat(n)&&p(!0);let a=Number(r).toFixed(8).replace(/\.?0+$/,"");o(a)},value:n,onBlur:()=>{let e=t.rates[t.currency].bet_max,r=t.rates[t.currency].bet_min;if(Number.parseFloat(n)>Number.parseFloat(e)||Number.parseFloat(n)<Number.parseFloat(r)){p(!0),(0,q.ZP)("betting rang should be ".concat(r).concat(t.currency,"-").concat(e).concat(t.currency));return}}})]}),(0,s.jsx)("div",{className:L().boxBig,children:V.map((e,t)=>(0,s.jsxs)("div",{className:m()(L().item,L().rippleHandler,"ripple-handler"),onClick:()=>rateClick(e.value),children:[(0,s.jsx)("span",{children:e.key}),(0,s.jsx)("span",{className:m()(L().rippleMask,"ripple-mask"),children:(0,s.jsx)("span",{className:m()(L().ripple,"ripple")})})]},t))}),(0,s.jsx)(q.x7,{})]})}var U=r(2336),G=r.n(U);function Rules(){let[e,t]=(0,i.useState)(!1),{theme:r,setTheme:n}=(0,u.F)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:m()(G().rulesWapper,G().ruleBox,{[G().show]:e},{[G().light]:"light"===r}),children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{textAlign:"center"},children:"Description"}),(0,s.jsx)("p",{children:"Cryptocurrency has revolutionized the realm of online gambling and casinos. One of the most intriguing outcomes of this blockchain revolution is the advent of new gaming possibilities, such as Bitcoin crash games."}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:'Bitcoin crash games offer a unique spin on "traditional" crash games. Unlike standard Bitcoin casino games like dice or roulette, Crash stands out due to its simplicity and directness. Players have the chance to place a bet with escalating potential for a significant win. However, the risk of losing also intensifies the longer they wait!'}),(0,s.jsx)("br",{}),(0,s.jsx)("h3",{children:"Game Rules"}),(0,s.jsx)("br",{}),(0,s.jsx)("h4",{children:"Classic :"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("p",{children:"\xa0\xa0\xb7 Betting: At the beginning of each round, you place a bet using your chosen amount of Bitcoin or other cryptocurrency."}),(0,s.jsx)("p",{children:"\xa0\xa0\xb7 Multiplier: Once the round commences, a multiplier (starting from 1x) begins to increase. This multiplier represents the potential payout of your bet. For instance, if the multiplier is at 2x, you could potentially double your bet if you cash out at that moment."}),(0,s.jsx)("p",{children:'\xa0\xa0\xb7 Crash: The multiplier continues to rise indefinitely, but it will "crash" at a random point, ending the round. This crash point could be at 1x, 2x, 100x, or even 1000x. It\'s entirely random and unpredictable.'}),(0,s.jsx)("p",{children:"\xa0\xa0\xb7 Cash Out: Your goal is to cash out your bet before the crash. If you cash out successfully, your original bet is multiplied by the current value of the multiplier. However, if you fail to cash out before the crash, you lose your entire bet."})]}),(0,s.jsx)("br",{}),(0,s.jsx)("h4",{children:"Bull Bear Moon :"}),(0,s.jsx)("p",{children:"Before each round in the game starts, you have 6 seconds to place your bet. Here you can choose to bet on Bull, Bear or Moon.Once the six seconds are up, CRASH will start running until it Bangs i.e reaches the end of that round."}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("p",{children:"\xa0\xa0\xb7 Bull when Crash is less than 2, payout 1.96, the probability is 50.5%."}),(0,s.jsx)("p",{children:"\xa0\xa0\xb7 Bear Crash is equal to or more than 2, payout 2, the probability is 49.5%."}),(0,s.jsx)("p",{children:"\xa0\xa0\xb7 Moon when Crash is equal to or more than 10, payout 10, the probability is 9.9%."})]}),(0,s.jsx)("br",{}),(0,s.jsx)("h3",{children:"Provably Fair Algorithm"}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:"Crash games are based on a provably fair algorithm. This algorithm assures players that the game results cannot be tampered with by the casino in any way."}),(0,s.jsx)("p",{children:"All game results for the next 6 million rounds are predetermined. Before each round, we reveal a hash of the result, making it impossible for us to alter the result post-facto."}),(0,s.jsx)("p",{children:"We have chained all results together, making it impossible for us to change future results. Before generating the chain of results, we revealed the first hash, published it on Twitter, and incorporated a future Bitcoin blockhash we could not have known. This makes all results provably fair."}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{className:G().lastText,children:"Therefore, Provably Fair gambling makes our gameplay 100% transparent and safe, reassuring players that the game results are genuinely random, with no behind-the-scenes manipulation."})]})}),(0,s.jsx)("div",{className:G().btn,onClick:()=>t(!e),children:"Show more/Hide"})]})}let J={url:"",onOpen:()=>{},onClose:()=>{},onError:()=>{},onMessage:()=>{},reconnectInterval:1e3,reconnectAttempts:100},useWebSocket=e=>{let{url:t,onOpen:r,onClose:n,onError:o,onMessage:a,reconnectInterval:s,reconnectAttempts:l}={...J,...e},{token:c}=useToken(),[p,u]=(0,i.useState)(!1),[d,m]=(0,i.useState)(0),[b,h]=(0,i.useState)(""),g=(0,i.useRef)(),_=(0,i.useRef)(),connect=()=>{u(!1);let e=new WebSocket(t,[c]);e.onopen=()=>{console.log("WebSocket is connected"),u(!0),m(0),r()},e.onclose=e=>{console.error("WebSocket closed with code ".concat(e.code)),u(!1),n(e),console.log("reconnectCount",d,l),d<l&&(_.current=setTimeout(()=>{m(e=>e+1),connect()},s))},e.onerror=e=>{console.error("WebSocket error:",e),n(e)},e.onmessage=e=>{let t=JSON.parse(e.data);console.log("WebSocket received message: ".concat(t)),h(e.data),a(t)},g.current=e};return(0,i.useEffect)(()=>{if(c&&""!=c)return connect(),()=>{var e;null===(e=g.current)||void 0===e||e.close()}},[c]),[g.current,e=>{p&&g.current?(console.log("WebSocket sending message: ".concat(JSON.stringify(e))),g.current.send(JSON.stringify(e))):console.error("Cannot send message - WebSocket is not connected")},b,p]};function Home(){(0,i.useEffect)(()=>{!function(){var e={},t="";try{t=location.hash.toString()}catch(e){}var r=urlParseHashParams(t),n=sessionStorageGet("initParams");if(n)for(var o in n)void 0===r[o]&&(r[o]=n[o]);sessionStorageSet("initParams",r);var a,s=!1;try{if(s=null!=window.parent&&window!=window.parent){window.addEventListener("message",function(e){if(e.source===window.parent){try{var t=JSON.parse(e.data)}catch(e){return}t&&t.eventType&&("set_custom_style"==t.eventType?a.innerHTML=t.eventData:receiveEvent(t.eventType,t.eventData))}}),a=document.createElement("style"),document.head.appendChild(a);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready"}),"*")}catch(e){}}}catch(e){}function urlSafeDecode(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch(t){return e}}function urlParseHashParams(e){e=e.replace(/^#/,"");var t={};if(!e.length)return t;if(0>e.indexOf("=")&&0>e.indexOf("?"))return t._path=urlSafeDecode(e),t;var r=e.indexOf("?");if(r>=0){var n=e.substr(0,r);t._path=urlSafeDecode(n),e=e.substr(r+1)}var o=urlParseQueryString(e);for(var a in o)t[a]=o[a];return t}function urlParseQueryString(e){var t,r,n,o,a={};if(!e.length)return a;var s=e.split("&");for(t=0;t<s.length;t++)n=urlSafeDecode((r=s[t].split("="))[0]),o=null==r[1]?null:urlSafeDecode(r[1]),a[n]=o;return a}function receiveEvent(e,t){callEventCallbacks(e,function(r){r(e,t)})}function callEventCallbacks(t,r){var n=e[t];if(void 0!==n&&n.length)for(var o=0;o<n.length;o++)try{r(n[o])}catch(e){}}function sessionStorageSet(e,t){try{return window.sessionStorage.setItem("__telegram__"+e,JSON.stringify(t)),!0}catch(e){}return!1}function sessionStorageGet(e){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+e))}catch(e){}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:r,isIframe:s,onEvent:function(t,r){void 0===e[t]&&(e[t]=[]),-1===e[t].indexOf(r)&&e[t].push(r)},offEvent:function(t,r){if(void 0!==e[t]){var n=e[t].indexOf(r);-1!==n&&e[t].splice(n,1)}},postEvent:function(e,t,r){if(t||(t=function(){}),void 0===r&&(r=""),void 0!==window.TelegramWebviewProxy)TelegramWebviewProxy.postEvent(e,JSON.stringify(r)),t();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:e,eventData:r})),t();else if(s)try{var n="https://web.telegram.org";n="*",window.parent.postMessage(JSON.stringify({eventType:e,eventData:r}),n),t()}catch(e){t(e)}else t({notAvailable:!0})},receiveEvent:receiveEvent,callEventCallbacks:callEventCallbacks},window.Telegram.Utils={urlSafeDecode:urlSafeDecode,urlParseQueryString:urlParseQueryString,urlParseHashParams:urlParseHashParams,urlAppendHashParams:function(e,t){var r=e.indexOf("#");if(r<0)return e+"#"+t;var n=e.substr(r+1);return n.indexOf("=")>=0||n.indexOf("?")>=0?e+"&"+t:n.length>0?e+"?"+t:e+t},sessionStorageSet:sessionStorageSet,sessionStorageGet:sessionStorageGet},window.TelegramGameProxy_receiveEvent=receiveEvent,window.TelegramGameProxy={receiveEvent:receiveEvent}}(),function(){var e=window.Telegram.Utils,t=window.Telegram.WebView,r=t.initParams,n=t.isIframe,o={},a="",s={},i={},l="dark",c="6.0",p="unknown";if(r.tgWebAppData&&r.tgWebAppData.length)for(var u in a=r.tgWebAppData,s=e.urlParseQueryString(a)){var d=s[u];try{("{"==d.substr(0,1)&&"}"==d.substr(-1)||"["==d.substr(0,1)&&"]"==d.substr(-1))&&(s[u]=JSON.parse(d))}catch(e){}}if(r.tgWebAppThemeParams&&r.tgWebAppThemeParams.length){var m=r.tgWebAppThemeParams;try{var b=JSON.parse(m);b&&setThemeParams(b)}catch(e){}}var b=e.sessionStorageGet("themeParams");b&&setThemeParams(b),r.tgWebAppVersion&&(c=r.tgWebAppVersion),r.tgWebAppPlatform&&(p=r.tgWebAppPlatform);var h=window.innerHeight;function onWindowResize(e){h!=window.innerHeight&&(h=window.innerHeight,receiveWebViewEvent("viewportChanged",{isStateStable:!0}))}function strTrim(e){return e.toString().replace(/^\s+|\s+$/g,"")}function receiveWebViewEvent(e){var r=Array.prototype.slice.call(arguments);e=r.shift(),t.callEventCallbacks("webview:"+e,function(e){e.apply(o,r)})}function onWebViewEvent(e,r){t.onEvent("webview:"+e,r)}function offWebViewEvent(e,r){t.offEvent("webview:"+e,r)}function setCssProperty(e,t){var r=document.documentElement;r&&r.style&&r.style.setProperty&&r.style.setProperty("--tg-"+e,t)}function setThemeParams(t){var r;for(var n in"#1c1c1d"==t.bg_color&&t.bg_color==t.secondary_bg_color&&(t.secondary_bg_color="#2c2c2e"),t)(r=parseColorToHex(t[n]))&&(i[n]=r,"bg_color"==n&&setCssProperty("color-scheme",l=!function(e){3==(e=e.replace(/[\s#]/g,"")).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),n=parseInt(e.substr(4,2),16);return 120>Math.sqrt(.299*(t*t)+.587*(r*r)+.114*(n*n))}(r)?"light":"dark"),setCssProperty(n="theme-"+n.split("_").join("-"),r));e.sessionStorageSet("themeParams",i)}var g={};function generateCallbackId(e){for(var t=100;--t;){for(var r="",n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",o=n.length,a=0;a<e;a++)r+=n[Math.floor(Math.random()*o)];if(!g[r])return g[r]={},r}throw Error("WebAppCallbackIdGenerateFailed")}var _=!1,f=!1,v=!0;function setViewportHeight(e){var t,r;void 0!==e&&(v=!!e.is_expanded,_=e.height,e.is_state_stable&&(f=e.height),receiveWebViewEvent("viewportChanged",{isStateStable:!!e.is_state_stable})),t=!1!==_?_-B+"px":B?"calc(100vh - "+B+"px)":"100vh",r=!1!==f?f-B+"px":B?"calc(100vh - "+B+"px)":"100vh",setCssProperty("viewport-height",t),setCssProperty("viewport-stable-height",r)}var x=!1,y="bg_color",w=null,A=null,k=null;function updateHeaderColor(){(A!=y||k!=w)&&(A=y,(k=w)?t.postEvent("web_app_set_header_color",!1,{color:w}):t.postEvent("web_app_set_header_color",!1,{color_key:y}))}var T="bg_color";function getBackgroundColor(){return"secondary_bg_color"==T?i.secondary_bg_color:"bg_color"==T?i.bg_color:T}var j=null;function updateBackgroundColor(){var e=getBackgroundColor();j!=e&&(j=e,t.postEvent("web_app_set_background_color",!1,{color:e}))}function parseColorToHex(e){if(e+="",t=/^\s*#([0-9a-f]{6})\s*$/i.exec(e))return"#"+t[1].toLowerCase();if(t=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(e))return("#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]).toLowerCase();if(t=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(e)){var t,r=parseInt(t[1]),n=parseInt(t[2]),o=parseInt(t[3]);return"#"+(r=(r<16?"0":"")+r.toString(16))+(n=(n<16?"0":"")+n.toString(16))+(o=(o<16?"0":"")+o.toString(16))}return!1}function versionAtLeast(e){return function(e,t){"string"!=typeof e&&(e=""),"string"!=typeof t&&(t=""),e=e.replace(/^\s+|\s+$/g,"").split("."),t=t.replace(/^\s+|\s+$/g,"").split(".");var r,n,o,a=Math.max(e.length,t.length);for(r=0;r<a;r++)if((n=parseInt(e[r])||0)!=(o=parseInt(t[r])||0)){if(n>o)return 1;return -1}return 0}(c,e)>=0}var E=function(){var e=!1,r={};Object.defineProperty(r,"isVisible",{set:function(e){setParams({is_visible:e})},get:function(){return e},enumerable:!0});var n=null;function buttonParams(){return{is_visible:e}}function buttonCheckVersion(){return!!versionAtLeast("6.1")||(console.warn("[Telegram.WebApp] BackButton is not supported in version "+c),!1)}function setParams(o){var a,s,i;return buttonCheckVersion()&&(void 0!==o.is_visible&&(e=!!o.is_visible),void 0===(a=s=buttonParams())&&(a=buttonParams()),i=JSON.stringify(a),n!==i&&(n=i,t.postEvent("web_app_setup_back_button",!1,s))),r}return t.onEvent("back_button_pressed",function(){receiveWebViewEvent("backButtonClicked")}),r.onClick=function(e){return buttonCheckVersion()&&onWebViewEvent("backButtonClicked",e),r},r.offClick=function(e){return buttonCheckVersion()&&offWebViewEvent("backButtonClicked",e),r},r.show=function(){return setParams({is_visible:!0})},r.hide=function(){return setParams({is_visible:!1})},r}(),B=0,C=function(){var e=!1,n=!0,o=!1,a="CONTINUE",s=!1,l=!1,c={};Object.defineProperty(c,"text",{set:function(e){c.setParams({text:e})},get:function(){return a},enumerable:!0}),Object.defineProperty(c,"color",{set:function(e){c.setParams({color:e})},get:function(){return s||i.button_color||"#2481cc"},enumerable:!0}),Object.defineProperty(c,"textColor",{set:function(e){c.setParams({text_color:e})},get:function(){return l||i.button_text_color||"#ffffff"},enumerable:!0}),Object.defineProperty(c,"isVisible",{set:function(e){c.setParams({is_visible:e})},get:function(){return e},enumerable:!0}),Object.defineProperty(c,"isProgressVisible",{get:function(){return o},enumerable:!0}),Object.defineProperty(c,"isActive",{set:function(e){c.setParams({is_active:e})},get:function(){return n},enumerable:!0});var p=null;t.onEvent("main_button_pressed",onMainButtonPressed);var u=null,d={};if(r.tgWebAppDebug){for(var m in u=document.createElement("tg-main-button"),d={font:"600 14px/18px sans-serif",display:"none",width:"100%",height:"48px",borderRadius:"0",background:"no-repeat right center",position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"15px 20px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"})u.style[m]=d[m];document.addEventListener("DOMContentLoaded",function onDomLoaded(e){document.removeEventListener("DOMContentLoaded",onDomLoaded),document.body.appendChild(u),u.addEventListener("click",onMainButtonPressed,!1)})}function onMainButtonPressed(){n&&receiveWebViewEvent("mainButtonClicked")}function buttonParams(){var t=c.color,r=c.textColor;return e?{is_visible:!0,is_active:n,is_progress_visible:o,text:a,color:t,text_color:r}:{is_visible:!1}}function updateButton(){var e,n=buttonParams(),o=(void 0===(e=n)&&(e=buttonParams()),JSON.stringify(e));p!==o&&(p=o,t.postEvent("web_app_setup_main_button",!1,n),r.tgWebAppDebug&&(n.is_visible?(u.style.display="block",B=48,u.style.opacity=n.is_active?"1":"0.8",u.style.cursor=n.is_active?"pointer":"auto",u.disabled=!n.is_active,u.innerText=n.text,u.style.backgroundImage=n.is_progress_visible?"url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewport%3D%220%200%2048%2048%22%20width%3D%2248px%22%20height%3D%2248px%22%3E%3Ccircle%20cx%3D%2250%25%22%20cy%3D%2250%25%22%20stroke%3D%22%23fff%22%20stroke-width%3D%222.25%22%20stroke-linecap%3D%22round%22%20fill%3D%22none%22%20stroke-dashoffset%3D%22106%22%20r%3D%229%22%20stroke-dasharray%3D%2256.52%22%20rotate%3D%22-90%22%3E%3Canimate%20attributeName%3D%22stroke-dashoffset%22%20attributeType%3D%22XML%22%20dur%3D%22360s%22%20from%3D%220%22%20to%3D%2212500%22%20repeatCount%3D%22indefinite%22%3E%3C%2Fanimate%3E%3CanimateTransform%20attributeName%3D%22transform%22%20attributeType%3D%22XML%22%20type%3D%22rotate%22%20dur%3D%221s%22%20from%3D%22-90%2024%2024%22%20to%3D%22630%2024%2024%22%20repeatCount%3D%22indefinite%22%3E%3C%2FanimateTransform%3E%3C%2Fcircle%3E%3C%2Fsvg%3E')":"none",u.style.backgroundColor=n.color,u.style.color=n.text_color):(u.style.display="none",B=0),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=B+"px"),setViewportHeight()))}return c.setText=function(e){return c.setParams({text:e})},c.onClick=function(e){return onWebViewEvent("mainButtonClicked",e),c},c.offClick=function(e){return offWebViewEvent("mainButtonClicked",e),c},c.show=function(){return c.setParams({is_visible:!0})},c.hide=function(){return c.setParams({is_visible:!1})},c.enable=function(){return c.setParams({is_active:!0})},c.disable=function(){return c.setParams({is_active:!1})},c.showProgress=function(e){return n=!!e,o=!0,updateButton(),c},c.hideProgress=function(){return c.isActive||(n=!0),o=!1,updateButton(),c},c.setParams=function(t){if(void 0!==t.text){var r=strTrim(t.text);if(!r.length)throw console.error("[Telegram.WebApp] Main button text is required",t.text),Error("WebAppMainButtonParamInvalid");if(r.length>64)throw console.error("[Telegram.WebApp] Main button text is too long",r),Error("WebAppMainButtonParamInvalid");a=r}if(void 0!==t.color){if(!1===t.color||null===t.color)s=!1;else{var o=parseColorToHex(t.color);if(!o)throw console.error("[Telegram.WebApp] Main button color format is invalid",t.color),Error("WebAppMainButtonParamInvalid");s=o}}if(void 0!==t.text_color){if(!1===t.text_color||null===t.text_color)l=!1;else{var i=parseColorToHex(t.text_color);if(!i)throw console.error("[Telegram.WebApp] Main button text color format is invalid",t.text_color),Error("WebAppMainButtonParamInvalid");l=i}}if(void 0!==t.is_visible){if(t.is_visible&&!c.text.length)throw console.error("[Telegram.WebApp] Main button text is required"),Error("WebAppMainButtonParamInvalid");e=!!t.is_visible}return void 0!==t.is_active&&(n=!!t.is_active),updateButton(),c},c}(),N=function(){var e=!1,r={};Object.defineProperty(r,"isVisible",{set:function(e){setParams({is_visible:e})},get:function(){return e},enumerable:!0});var n=null;function buttonParams(){return{is_visible:e}}function buttonCheckVersion(){return!!versionAtLeast("6.10")||(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+c),!1)}function setParams(o){var a,s,i;return buttonCheckVersion()&&(void 0!==o.is_visible&&(e=!!o.is_visible),void 0===(a=s=buttonParams())&&(a=buttonParams()),i=JSON.stringify(a),n!==i&&(n=i,t.postEvent("web_app_setup_settings_button",!1,s))),r}return t.onEvent("settings_button_pressed",function(){receiveWebViewEvent("settingsButtonClicked")}),r.onClick=function(e){return buttonCheckVersion()&&onWebViewEvent("settingsButtonClicked",e),r},r.offClick=function(e){return buttonCheckVersion()&&offWebViewEvent("settingsButtonClicked",e),r},r.show=function(){return setParams({is_visible:!0})},r.hide=function(){return setParams({is_visible:!1})},r}(),S=function(){var e={};function triggerFeedback(r){if(!versionAtLeast("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+c),e;if("impact"==r.type){if("light"!=r.impact_style&&"medium"!=r.impact_style&&"heavy"!=r.impact_style&&"rigid"!=r.impact_style&&"soft"!=r.impact_style)throw console.error("[Telegram.WebApp] Haptic impact style is invalid",r.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if("notification"==r.type){if("error"!=r.notification_type&&"success"!=r.notification_type&&"warning"!=r.notification_type)throw console.error("[Telegram.WebApp] Haptic notification type is invalid",r.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if("selection_change"==r.type);else throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",r.type),Error("WebAppHapticFeedbackTypeInvalid");return t.postEvent("web_app_trigger_haptic_feedback",!1,r),e}return e.impactOccurred=function(e){return triggerFeedback({type:"impact",impact_style:e})},e.notificationOccurred=function(e){return triggerFeedback({type:"notification",notification_type:e})},e.selectionChanged=function(){return triggerFeedback({type:"selection_change"})},e}(),W=function(){var e={};function invokeStorageMethod(t,r,n){if(!versionAtLeast("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+c),Error("WebAppMethodUnsupported");return invokeCustomMethod(t,r,n),e}return e.setItem=function(e,t,r){return invokeStorageMethod("saveStorageValue",{key:e,value:t},r)},e.getItem=function(t,r){return e.getItems([t],r?function(e,n){e?r(e):r(null,n[t])}:null)},e.getItems=function(e,t){return invokeStorageMethod("getStorageValues",{keys:e},t)},e.removeItem=function(t,r){return e.removeItems([t],r)},e.removeItems=function(e,t){return invokeStorageMethod("deleteStorageValues",{keys:e},t)},e.getKeys=function(e){return invokeStorageMethod("getStorageKeys",{},e)},e}(),P={},I=!1,M=!1,D=!1,H=!1;function invokeCustomMethod(e,r,n){if(!versionAtLeast("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+c),Error("WebAppMethodUnsupported");var o=generateCallbackId(16);g[o]={callback:n},t.postEvent("web_app_invoke_custom_method",!1,{req_id:o,method:e,params:r||{}})}window.Telegram||(window.Telegram={}),Object.defineProperty(o,"initData",{get:function(){return a},enumerable:!0}),Object.defineProperty(o,"initDataUnsafe",{get:function(){return s},enumerable:!0}),Object.defineProperty(o,"version",{get:function(){return c},enumerable:!0}),Object.defineProperty(o,"platform",{get:function(){return p},enumerable:!0}),Object.defineProperty(o,"colorScheme",{get:function(){return l},enumerable:!0}),Object.defineProperty(o,"themeParams",{get:function(){return i},enumerable:!0}),Object.defineProperty(o,"isExpanded",{get:function(){return v},enumerable:!0}),Object.defineProperty(o,"viewportHeight",{get:function(){return(!1===_?window.innerHeight:_)-B},enumerable:!0}),Object.defineProperty(o,"viewportStableHeight",{get:function(){return(!1===f?window.innerHeight:f)-B},enumerable:!0}),Object.defineProperty(o,"isClosingConfirmationEnabled",{set:function(e){!function(e){if(!versionAtLeast("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+c);return}x=!!e,t.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:x})}(e)},get:function(){return x},enumerable:!0}),Object.defineProperty(o,"headerColor",{set:function(e){!function(e){if(!versionAtLeast("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+c);return}!versionAtLeast("6.9")&&(i.bg_color&&i.bg_color==e?e="bg_color":i.secondary_bg_color&&i.secondary_bg_color==e&&(e="secondary_bg_color"));var t=null,r=null;if("bg_color"==e||"secondary_bg_color"==e)r=e;else if(versionAtLeast("6.9")&&!(t=parseColorToHex(e)))throw console.error("[Telegram.WebApp] Header color format is invalid",e),Error("WebAppHeaderColorInvalid");if(!versionAtLeast("6.9")&&"bg_color"!=r&&"secondary_bg_color"!=r)throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",e),Error("WebAppHeaderColorKeyInvalid");y=r,w=t,updateHeaderColor()}(e)},get:function(){return"secondary_bg_color"==y?i.secondary_bg_color:"bg_color"==y?i.bg_color:w},enumerable:!0}),Object.defineProperty(o,"backgroundColor",{set:function(e){!function(e){var t;if(!versionAtLeast("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+c);return}if("bg_color"==e||"secondary_bg_color"==e)t=e;else if(!(t=parseColorToHex(e)))throw console.error("[Telegram.WebApp] Background color format is invalid",e),Error("WebAppBackgroundColorInvalid");T=t,updateBackgroundColor()}(e)},get:function(){return getBackgroundColor()},enumerable:!0}),Object.defineProperty(o,"BackButton",{value:E,enumerable:!0}),Object.defineProperty(o,"MainButton",{value:C,enumerable:!0}),Object.defineProperty(o,"SettingsButton",{value:N,enumerable:!0}),Object.defineProperty(o,"HapticFeedback",{value:S,enumerable:!0}),Object.defineProperty(o,"CloudStorage",{value:W,enumerable:!0}),o.setHeaderColor=function(e){o.headerColor=e},o.setBackgroundColor=function(e){o.backgroundColor=e},o.enableClosingConfirmation=function(){o.isClosingConfirmationEnabled=!0},o.disableClosingConfirmation=function(){o.isClosingConfirmationEnabled=!1},o.isVersionAtLeast=function(e){return versionAtLeast(e)},o.onEvent=function(e,t){onWebViewEvent(e,t)},o.offEvent=function(e,t){offWebViewEvent(e,t)},o.sendData=function(e){if(!e||!e.length)throw console.error("[Telegram.WebApp] Data is required",e),Error("WebAppDataInvalid");if(function(e){if(window.Blob)try{return new Blob([e]).size}catch(e){}for(var t=e.length,r=e.length-1;r>=0;r--){var n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}(e)>4096)throw console.error("[Telegram.WebApp] Data is too long",e),Error("WebAppDataInvalid");t.postEvent("web_app_data_send",!1,{data:e})},o.switchInlineQuery=function(e,n){if(!versionAtLeast("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+c),Error("WebAppMethodUnsupported");if(!r.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if((e=e||"").length>256)throw console.error("[Telegram.WebApp] Inline query is too long",e),Error("WebAppInlineQueryInvalid");var o=[];if(n){if(!Array.isArray(n))throw console.error("[Telegram.WebApp] Choose chat types should be an array",n),Error("WebAppInlineChooseChatTypesInvalid");for(var a={users:1,bots:1,groups:1,channels:1},s=0;s<n.length;s++){var i=n[s];if(!a[i])throw console.error("[Telegram.WebApp] Choose chat type is invalid",i),Error("WebAppInlineChooseChatTypeInvalid");2!=a[i]&&(a[i]=2,o.push(i))}}t.postEvent("web_app_switch_inline_query",!1,{query:e,chat_types:o})},o.openLink=function(e,r){var n=document.createElement("A");if(n.href=e,"http:"!=n.protocol&&"https:"!=n.protocol)throw console.error("[Telegram.WebApp] Url protocol is not supported",e),Error("WebAppTgUrlInvalid");var e=n.href;r=r||{},versionAtLeast("6.1")?t.postEvent("web_app_open_link",!1,{url:e,try_instant_view:versionAtLeast("6.4")&&!!r.try_instant_view}):window.open(e,"_blank")},o.openTelegramLink=function(e){var r=document.createElement("A");if(r.href=e,"http:"!=r.protocol&&"https:"!=r.protocol)throw console.error("[Telegram.WebApp] Url protocol is not supported",e),Error("WebAppTgUrlInvalid");if("t.me"!=r.hostname)throw console.error("[Telegram.WebApp] Url host is not supported",e),Error("WebAppTgUrlInvalid");var o=r.pathname+r.search;n||versionAtLeast("6.1")?t.postEvent("web_app_open_tg_link",!1,{path_full:o}):location.href="https://t.me"+o},o.openInvoice=function(e,r){var n,o,a=document.createElement("A");if(a.href=e,"http:"!=a.protocol&&"https:"!=a.protocol||"t.me"!=a.hostname||!(n=a.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(o=n[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",e),Error("WebAppInvoiceUrlInvalid");if(!versionAtLeast("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+c),Error("WebAppMethodUnsupported");if(P[o])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");P[o]={url:e,callback:r},t.postEvent("web_app_open_invoice",!1,{slug:o})},o.showPopup=function(e,r){if(!versionAtLeast("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+c),Error("WebAppMethodUnsupported");if(I)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var n="",o="",a=[],s={};if(void 0!==e.title){if((n=strTrim(e.title)).length>64)throw console.error("[Telegram.WebApp] Popup title is too long",n),Error("WebAppPopupParamInvalid");n.length>0&&(s.title=n)}if(void 0!==e.message&&(o=strTrim(e.message)),!o.length)throw console.error("[Telegram.WebApp] Popup message is required",e.message),Error("WebAppPopupParamInvalid");if(o.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",o),Error("WebAppPopupParamInvalid");if(s.message=o,void 0!==e.buttons){if(!Array.isArray(e.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",e.buttons),Error("WebAppPopupParamInvalid");for(var i=0;i<e.buttons.length;i++){var l=e.buttons[i],p={},u="";if(void 0!==l.id&&(u=l.id.toString()).length>64)throw console.error("[Telegram.WebApp] Popup button id is too long",u),Error("WebAppPopupParamInvalid");p.id=u;var d=l.type;if(void 0===d&&(d="default"),p.type=d,"ok"==d||"close"==d||"cancel"==d);else if("default"==d||"destructive"==d){var m="";if(void 0!==l.text&&(m=strTrim(l.text)),!m.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+d,l.text),Error("WebAppPopupParamInvalid");if(m.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",m),Error("WebAppPopupParamInvalid");p.text=m}else throw console.error("[Telegram.WebApp] Popup button type is invalid",d),Error("WebAppPopupParamInvalid");a.push(p)}}else a.push({id:"",type:"close"});if(a.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(a.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");s.buttons=a,I={callback:r},t.postEvent("web_app_open_popup",!1,s)},o.showAlert=function(e,t){o.showPopup({message:e},t?function(){t()}:null)},o.showConfirm=function(e,t){o.showPopup({message:e,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},t?function(e){t("ok"==e)}:null)},o.showScanQrPopup=function(e,r){if(!versionAtLeast("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+c),Error("WebAppMethodUnsupported");if(M)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var n="",o={};if(void 0!==e.text){if((n=strTrim(e.text)).length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",n),Error("WebAppScanQrPopupParamInvalid");n.length>0&&(o.text=n)}M={callback:r},t.postEvent("web_app_open_scan_qr_popup",!1,o)},o.closeScanQrPopup=function(){if(!versionAtLeast("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+c),Error("WebAppMethodUnsupported");M=!1,t.postEvent("web_app_close_scan_qr_popup",!1)},o.readTextFromClipboard=function(e){if(!versionAtLeast("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+c),Error("WebAppMethodUnsupported");var r=generateCallbackId(16);g[r]={callback:e},t.postEvent("web_app_read_text_from_clipboard",!1,{req_id:r})},o.requestWriteAccess=function(e){if(!versionAtLeast("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+c),Error("WebAppMethodUnsupported");if(D)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");D={callback:e},t.postEvent("web_app_request_write_access")},o.requestContact=function(e){if(!versionAtLeast("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+c),Error("WebAppMethodUnsupported");if(H)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");H={callback:e},t.postEvent("web_app_request_phone")},o.invokeCustomMethod=function(e,t,r){invokeCustomMethod(e,t,r)},o.ready=function(){t.postEvent("web_app_ready")},o.expand=function(){t.postEvent("web_app_expand")},o.close=function(){t.postEvent("web_app_close")},window.Telegram.WebApp=o,updateHeaderColor(),updateBackgroundColor(),setViewportHeight(),r.tgWebAppShowSettings&&N.show(),window.addEventListener("resize",onWindowResize),n&&document.addEventListener("click",function(e){if(!e.metaKey&&!e.ctrlKey){for(var t=e.target;"A"!=t.tagName&&t.parentNode;)t=t.parentNode;"A"==t.tagName&&"_blank"!=t.target&&("http:"==t.protocol||"https:"==t.protocol)&&"t.me"==t.hostname&&(o.openTgLink(t.href),e.preventDefault())}}),t.onEvent("theme_changed",function(e,t){t.theme_params&&(setThemeParams(t.theme_params),window.Telegram.WebApp.MainButton.setParams({}),updateBackgroundColor(),receiveWebViewEvent("themeChanged"))}),t.onEvent("viewport_changed",function(e,t){t.height&&(window.removeEventListener("resize",onWindowResize),setViewportHeight(t))}),t.onEvent("invoice_closed",function(e,t){if(t.slug&&P[t.slug]){var r=P[t.slug];delete P[t.slug],r.callback&&r.callback(t.status),receiveWebViewEvent("invoiceClosed",{url:r.url,status:t.status})}}),t.onEvent("popup_closed",function(e,t){if(I){var r=I;I=!1;var n=null;void 0!==t.button_id&&(n=t.button_id),r.callback&&r.callback(n),receiveWebViewEvent("popupClosed",{button_id:n})}}),t.onEvent("qr_text_received",function(e,r){if(M){var n=M,o=null;void 0!==r.data&&(o=r.data),n.callback&&n.callback(o)&&(M=!1,t.postEvent("web_app_close_scan_qr_popup",!1)),receiveWebViewEvent("qrTextReceived",{data:o})}}),t.onEvent("scan_qr_popup_closed",function(e,t){M=!1}),t.onEvent("clipboard_text_received",function(e,t){if(t.req_id&&g[t.req_id]){var r=g[t.req_id];delete g[t.req_id];var n=null;void 0!==t.data&&(n=t.data),r.callback&&r.callback(n),receiveWebViewEvent("clipboardTextReceived",{data:n})}}),t.onEvent("write_access_requested",function(e,t){if(D){var r=D;D=!1,r.callback&&r.callback("allowed"==t.status),receiveWebViewEvent("writeAccessRequested",{status:t.status})}}),t.onEvent("phone_requested",function(t,r){if(H){var n,o,a,s,i,l=H;H=!1;var c="sent"==r.status,p={status:r.status};c?(n=function(t){if(t&&t.length)for(var r in p.response=t,p.responseUnsafe=e.urlParseQueryString(t),p.responseUnsafe){var n=p.responseUnsafe[r];try{("{"==n.substr(0,1)&&"}"==n.substr(-1)||"["==n.substr(0,1)&&"]"==n.substr(-1))&&(p.responseUnsafe[r]=JSON.parse(n))}catch(e){}}l.callback&&l.callback(c,p),receiveWebViewEvent("contactRequested",p)},s=0,i=function(){invokeCustomMethod("getRequestedContact",{},function(e,t){t&&t.length?(clearTimeout(a),n(t)):(s+=50,o=setTimeout(i,s))})},a=setTimeout(function(){clearTimeout(o),n("")},3e3),i()):(l.callback&&l.callback(c,p),receiveWebViewEvent("contactRequested",p))}}),t.onEvent("custom_method_invoked",function(e,t){if(t.req_id&&g[t.req_id]){var r=g[t.req_id];delete g[t.req_id];var n=null,o=null;void 0!==t.result&&(n=t.result),void 0!==t.error&&(o=t.error),r.callback&&r.callback(o,n)}}),t.postEvent("web_app_request_theme"),t.postEvent("web_app_request_viewport")}()},[]);let{loginTg:e}=useLogin(),{theme:t,setTheme:r}=(0,u.F)(),{token:n,setUserToken:o}=useToken(),{user_id:a,setUserId:l}=useUserId(),{rateList:c,refresh:d}=useSymbolRate(),{sicbo:b,setScibo:h}=useScibo(),{subRequest:g}=useSubscribe(),{betArea:_,setBetArea:v}=useBetArea(),[w,A]=(0,i.useState)(!1),[k,T]=(0,i.useState)({historys:[],betData:{}});function updateTheme(){var e;let t=(null===(e=window.Telegram)||void 0===e?void 0:e.WebApp.colorScheme)||"dark";r(t),"dark"===t?(document.documentElement.classList.remove("light"),document.documentElement.classList.add("dark")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"))}useWebSocket({url:"wss://gw.dafengji668.us/"+f.ws,onOpen:()=>{console.log("WebSocket connected"),g()},onClose:()=>{console.log("WebSocket disconnected")},onError:e=>{console.error("WebSocket error:",e)},onMessage:e=>{console.log("WebSocket received message:",new Date().getTime(),e),(null==e?void 0:e.event)==="GAME_STATE"?handleGameStartMsg(null==e?void 0:e.data):(null==e?void 0:e.event)==="GAME_START_BETTING"?handleBettingMsg(null==e?void 0:e.data):(null==e?void 0:e.event)==="PLAYER_BETTINGS_UPDATE"?Object.keys(null==e?void 0:e.data).length&&handleBettingUpdateMsg(null==e?void 0:e.data):(null==e?void 0:e.event)==="GAME_START_PLAYING"&&handleGamePlayingMsg(null==e?void 0:e.data)}}),(0,x.Z)(async()=>{localStorage.setItem("auth",JSON.stringify({token:""})),document.onreadystatechange=()=>{"complete"===document.readyState&&A(!1)},"complete"===document.readyState&&A(!1),updateTheme(),window.Telegram.WebApp.onEvent("themeChanged",updateTheme),window.location.hash.substr(1);let t=await e("query_id%3DAAGJJLUBAwAAAIkktQFSDpGZ%26user%3D%257B%2522id%2522%253A6471099529%252C%2522first_name%2522%253A%2522sheep%2522%252C%2522last_name%2522%253A%2522web3%2522%252C%2522username%2522%253A%2522wagagahello%2522%252C%2522language_code%2522%253A%2522zh-hans%2522%252C%2522allows_write_to_pm%2522%253Atrue%257D%26auth_date%3D1699864857%26hash%3D804346539ce6afe04dd09ab9cfa86a7d98ed94dc58fa7540442cd4c1edfb42b2&tgWebAppVersion=6.10&tgWebAppPlatform=ios&tgWebAppBotInline=1&tgWebAppThemeParams=%7B%22section_bg_color%22%3A%22%23ffffff%22%2C%22secondary_bg_color%22%3A%22%23efeff4%22%2C%22text_color%22%3A%22%23000000%22%2C%22button_color%22%3A%22%23007aff%22%2C%22button_text_color%22%3A%22%23ffffff%22%2C%22header_bg_color%22%3A%22%23f8f8f8%22%2C%22destructive_text_color%22%3A%22%23ff3b30%22%2C%22section_header_text_color%22%3A%22%236d6d72%22%2C%22subtitle_text_color%22%3A%22%238e8e93%22%2C%22hint_color%22%3A%22%238e8e93%22%2C%22bg_color%22%3A%22%23ffffff%22%2C%22accent_text_color%22%3A%22%23007aff%22%2C%22link_color%22%3A%22%23007aff%22%7D");localStorage.setItem("auth",JSON.stringify({token:t.token})),o(t.token),l(t.user_id),function(){if(document.querySelectorAll)for(var e=document.querySelectorAll(".ripple-handler"),redraw=function(e){e.offsetTop},t=("ontouchstart"in window),r=0;r<e.length;r++)!function(e){function onRippleStart(r){var n=e.querySelector(".ripple-mask");if(n){var o=n.getBoundingClientRect();if("touchstart"==r.type)var a=r.targetTouches[0].clientX,s=r.targetTouches[0].clientY;else var a=r.clientX,s=r.clientY;var i=a-o.left-n.offsetWidth/2,l=s-o.top-n.offsetHeight/2,c=e.querySelector(".ripple");c.style.transition="none",redraw(c),c.style.transform="translate3d("+i+"px, "+l+"px, 0) scale3d(0.2, 0.2, 1)",c.style.opacity=1,redraw(c),c.style.transform="translate3d("+i+"px, "+l+"px, 0) scale3d(1, 1, 1)",c.style.transition="",t?(document.addEventListener("touchend",onRippleEnd),document.addEventListener("touchcancel",onRippleEnd)):document.addEventListener("mouseup",onRippleEnd)}function onRippleEnd(e){c.style.transitionDuration="var(.3s, .2s)",c.style.opacity=0,t?(document.removeEventListener("touchend",onRippleEnd),document.removeEventListener("touchcancel",onRippleEnd)):document.removeEventListener("mouseup",onRippleEnd)}}t?(e.removeEventListener("touchstart",onRippleStart),e.addEventListener("touchstart",onRippleStart)):(e.removeEventListener("mousedown",onRippleStart),e.addEventListener("mousedown",onRippleStart))}(e[r])}(),window.Telegram.WebApp.expand();try{window.eruda.init()}catch(e){console.log("eruda error",e)}},[]),(0,i.useEffect)(()=>{n&&d()},[n]),(0,i.useEffect)(()=>{if(c.length){let e={};c.forEach(t=>{e[t.symbol]=t}),h({...b,rates:e})}},[c]),(0,i.useEffect)(()=>{h({...b,...k})},[k]);let handleGameStartMsg=e=>{1===e.state?handleGamePlayingMsg(e):handleBettingMsg(e)},handleBettingMsg=e=>{var t;let r=null===(t=e.historys)||void 0===t?void 0:t.sort((e,t)=>e.round_id-t.round_id);T({historys:r,betData:e}),v({})},handleGamePlayingMsg=e=>{var t;let r=null===(t=e.historys)||void 0===t?void 0:t.sort((e,t)=>e.round_id-t.round_id);T({historys:r,betData:e}),v({})},handleBettingUpdateMsg=e=>{var t,r,n;let o={amount:e.amount,bet_area:null!==(r=e.bet_area)&&void 0!==r?r:"0",symbol:e.symbol,user_id:e.user_id,id:Math.random().toString()+Math.random().toString()},a=y[null!==(n=null===(t=e.bet_area)||void 0===t?void 0:t.toString())&&void 0!==n?n:"0"];v({[a]:o})};return(0,s.jsxs)("div",{className:m()(p().root,{[p().light]:"light"===t}),style:{background:"url(/static/".concat(t,"/").concat(t,"_main_bg.png)")},children:[(0,s.jsx)("div",{className:m()(p().loading,{[p().show]:w}),children:(0,s.jsx)("div",{className:p().loadingText,children:"Loading..."})}),(0,s.jsxs)("div",{style:{opacity:w?0:1,overflow:"hidden"},children:[(0,s.jsx)(HistoryList,{}),(0,s.jsx)(BlockchainSelect,{}),(0,s.jsx)(TopBetArea,{}),(0,s.jsx)(MiddBetArea_TopBetArea,{}),(0,s.jsx)(BottomBetArea_TopBetArea,{}),(0,s.jsx)(BetInput_TopBetArea,{}),(0,s.jsx)(Rules,{}),(0,s.jsx)("div",{className:p().betBtn,id:"bet-btn",onClick:()=>{"dark"===t?(r("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")):(r("dark"),document.documentElement.classList.remove("light"),document.documentElement.classList.add("dark"))},children:"Change theme"})]})]})}var pages=()=>(0,s.jsx)(root,{MRoot:Home,PCRoot:Home})},5769:function(e){e.exports={aniRoot:"Ani_aniRoot__o42ye",light:"Ani_light__zM_42",twoItem:"Ani_twoItem__oc55d",twoItemMs:"Ani_twoItemMs__wVYfU",twoImg:"Ani_twoImg__Ll3FG"}},5770:function(e){e.exports={blockchainSelect:"BalanceSelect_blockchainSelect__x4n_S",light:"BalanceSelect_light__EgQ41",selectBox:"BalanceSelect_selectBox___9qZG",forceBorder:"BalanceSelect_forceBorder__itWu4",blockchainIcon:"BalanceSelect_blockchainIcon__QFcdC",blockchainAmount:"BalanceSelect_blockchainAmount__Fr35g",arrowIcon:"BalanceSelect_arrowIcon__domOu",forceClick:"BalanceSelect_forceClick__FDZSh",selectList:"BalanceSelect_selectList__6pgAE",selectUlShow:"BalanceSelect_selectUlShow__gskLw",blockchainName:"BalanceSelect_blockchainName__LD_NF",name:"BalanceSelect_name__TpaaQ",blockchainValue:"BalanceSelect_blockchainValue__kFT4_",radioWrapper:"BalanceSelect_radioWrapper__L4kZx",checked:"BalanceSelect_checked__jdE_b",liActive:"BalanceSelect_liActive__pcZ0e",switchContent:"BalanceSelect_switchContent__gML0C",displayTxt:"BalanceSelect_displayTxt__QMMtT"}},3976:function(e){e.exports={betInput:"BetInput_betInput__dWxGT",light:"BetInput_light__KOK01",topTip:"BetInput_topTip__bjbpd",tipTxt:"BetInput_tipTxt__ubuTH",switch:"BetInput_switch__iy0Sj",inputBox:"BetInput_inputBox__qR0od",prefix:"BetInput_prefix__NeCmD",input:"BetInput_input__ugBAx",inputError:"BetInput_inputError__9R4HL",boxBig:"BetInput_boxBig__K3koe",item:"BetInput_item__KZqXk",rippleHandler:"BetInput_rippleHandler__LGCLi",rippleMask:"BetInput_rippleMask__1yylU",ripple:"BetInput_ripple__ImMoW"}},2995:function(e){e.exports={topArea:"BottomBetArea_topArea__FJDa3",light:"BottomBetArea_light__X_Bg4",txt:"BottomBetArea_txt__ZpsBv",betArea:"BottomBetArea_betArea__8Wwbh",space:"BottomBetArea_space__zOr81",item:"BottomBetArea_item__aLf3K",rb:"BottomBetArea_rb__6KN9k",tb:"BottomBetArea_tb__Hcd1H",border:"BottomBetArea_border__xajOj",rippleHandler:"BottomBetArea_rippleHandler__Nmo1n",rippleMask:"BottomBetArea_rippleMask__NGIZR",ripple:"BottomBetArea_ripple__ghWMn",middleContent:"BottomBetArea_middleContent__NlM_d",bottomContent:"BottomBetArea_bottomContent__w0Dgk"}},2458:function(e){e.exports={lotteryResults:"HistoryList_lotteryResults__1bPta",light:"HistoryList_light__XbdZA",historyResultList:"HistoryList_historyResultList__5Lpye",listHide:"HistoryList_listHide__l93yY",notHistryText:"HistoryList_notHistryText__yE0aF",notHistryTextColor:"HistoryList_notHistryTextColor__hFdft",lotteryBtn:"HistoryList_lotteryBtn__VbKuf",btnIcon:"HistoryList_btnIcon__H1aF5"}},2800:function(e){e.exports={topArea:"MiddBetArea_topArea__oilTu",light:"MiddBetArea_light__H6zzw",space:"MiddBetArea_space__c2EOk",item:"MiddBetArea_item__dLJe_",mr:"MiddBetArea_mr__wLLlZ",ml:"MiddBetArea_ml__80ch5",txt:"MiddBetArea_txt__TetBj",rippleHandler:"MiddBetArea_rippleHandler__nYpBu",rippleMask:"MiddBetArea_rippleMask__06e2P",ripple:"MiddBetArea_ripple__xqpYi"}},2336:function(e){e.exports={rulesWapper:"Rules_rulesWapper__UpE9q",light:"Rules_light__RLxEB",lastText:"Rules_lastText__5Ejs5",ruleBox:"Rules_ruleBox__V5x5E",show:"Rules_show__Wj7wl",btn:"Rules_btn__D5mWF"}},2997:function(e){e.exports={topArea:"TopBetArea_topArea__nUBYk",light:"TopBetArea_light__UELEq",space:"TopBetArea_space__4rtFk",one:"TopBetArea_one__6Vi_l",two:"TopBetArea_two__gEbLd",three:"TopBetArea_three__rZnvD",five:"TopBetArea_five__Pud3n",title:"TopBetArea_title__xU8KD",subTitle:"TopBetArea_subTitle___py5p",symbol:"TopBetArea_symbol__GJHL_",symbolContent:"TopBetArea_symbolContent__TmDn4",symbolImg:"TopBetArea_symbolImg__fpFzH",rippleHandler:"TopBetArea_rippleHandler__2c8D9",rippleMask:"TopBetArea_rippleMask__zYRYm",ripple:"TopBetArea_ripple__Ude_O"}},1932:function(e){e.exports={root:"m_root__e0sit",light:"m_light__1Nz56",loading:"m_loading__kpEGO",show:"m_show__I0vv_",loadingAni:"m_loadingAni__5j4Ie",loadingText:"m_loadingText__nfsvG",betBtn:"m_betBtn__mf7oJ"}},2484:function(e){e.exports={root:"TransAni_root__6N5Zg",light:"TransAni_light__JAwHE",tip:"TransAni_tip__cdiQH",txt:"TransAni_txt__JcW5C"}}},function(e){e.O(0,[144,774,888,179],function(){return e(e.s=4591)}),_N_E=e.O()}]);