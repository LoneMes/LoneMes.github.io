!function(){var e,t,n,r,s={85111:function(e,t,n){n(15623).setup({timeout:"0-500"});let r=1e3;const s=[{id:1,username:"admin",password:"123456",phone:"13600000000",email:"admin@react.com",desc:"超级管理员",conditions:1,roles:[1,2,3]},{id:2,username:"user",password:"123456",phone:"13600000001",email:"user@react.com",desc:"普通管理员",conditions:1,roles:[2]},{id:3,username:"user",password:"123456",phone:"13600000001",email:"user@react.com",desc:"普通管理员3",conditions:1,roles:[2]},{id:4,username:"user",password:"123456",phone:"13600000001",email:"user@react.com",desc:"普通管理员4",conditions:1,roles:[2]},{id:5,username:"user",password:"123456",phone:"13600000001",email:"user@react.com",desc:"普通管理员5",conditions:1,roles:[2]}],o=[{id:1,title:"首页",icon:"icon-home",url:"/home",parent:null,desc:"首页",sorts:0,conditions:1},{id:2,title:"系统管理",icon:"icon-setting",url:"/system",parent:null,desc:"系统管理目录分支",sorts:1,conditions:1},{id:3,title:"用户管理",icon:"icon-user",url:"/system/useradmin",parent:2,desc:"系统管理/用户管理",sorts:0,conditions:1},{id:4,title:"角色管理",icon:"icon-team",url:"/system/roleadmin",parent:2,desc:"系统管理/角色管理",sorts:1,conditions:1},{id:5,title:"权限管理",icon:"icon-safetycertificate",url:"/system/poweradmin",parent:2,desc:"系统管理/权限管理",sorts:2,conditions:1},{id:6,title:"菜单管理",icon:"icon-appstore",url:"/system/menuadmin",parent:2,desc:"系统管理/菜单管理",sorts:3,conditions:1}],u=[{id:1,menu:3,title:"新增",code:"user:add",desc:"用户管理 - 添加权限",sorts:1,conditions:1},{id:2,menu:3,title:"修改",code:"user:up",desc:"用户管理 - 修改权限",sorts:2,conditions:1},{id:3,menu:3,title:"查看",code:"user:query",desc:"用户管理 - 查看权限",sorts:3,conditions:1},{id:4,menu:3,title:"删除",code:"user:del",desc:"用户管理 - 删除权限",sorts:4,conditions:1},{id:5,menu:3,title:"分配角色",code:"user:role",desc:"用户管理 - 分配角色权限",sorts:5,conditions:1},{id:6,menu:4,title:"新增",code:"role:add",desc:"角色管理 - 添加权限",sorts:1,conditions:1},{id:7,menu:4,title:"修改",code:"role:up",desc:"角色管理 - 修改权限",sorts:2,conditions:1},{id:8,menu:4,title:"查看",code:"role:query",desc:"角色管理 - 查看权限",sorts:3,conditions:1},{id:18,menu:4,title:"分配权限",code:"role:power",desc:"角色管理 - 分配权限",sorts:4,conditions:1},{id:9,menu:4,title:"删除",code:"role:del",desc:"角色管理 - 删除权限",sorts:5,conditions:1},{id:10,menu:5,title:"新增",code:"power:add",desc:"权限管理 - 添加权限",sorts:1,conditions:1},{id:11,menu:5,title:"修改",code:"power:up",desc:"权限管理 - 修改权限",sorts:2,conditions:1},{id:12,menu:5,title:"查看",code:"power:query",desc:"权限管理 - 查看权限",sorts:3,conditions:1},{id:13,menu:5,title:"删除",code:"power:del",desc:"权限管理 - 删除权限",sorts:2,conditions:1},{id:14,menu:6,title:"新增",code:"menu:add",desc:"菜单管理 - 添加权限",sorts:1,conditions:1},{id:15,menu:6,title:"修改",code:"menu:up",desc:"菜单管理 - 修改权限",sorts:2,conditions:1},{id:16,menu:6,title:"查看",code:"menu:query",desc:"菜单管理 - 查看权限",sorts:3,conditions:1},{id:17,menu:6,title:"删除",code:"menu:del",desc:"菜单管理 - 删除权限",sorts:2,conditions:1}],i=[{id:1,title:"超级管理员",desc:"超级管理员拥有所有权限",sorts:1,conditions:1,menuAndPowers:[{menuId:1,powers:[]},{menuId:2,powers:[]},{menuId:3,powers:[1,2,3,4,5]},{menuId:4,powers:[6,7,8,9,18]},{menuId:5,powers:[10,11,12,13]},{menuId:6,powers:[14,15,16,17]}]},{id:2,title:"普通管理员",desc:"普通管理员",sorts:2,conditions:1,menuAndPowers:[{menuId:1,powers:[]},{menuId:2,powers:[]},{menuId:3,powers:[3]},{menuId:4,powers:[6,7,8,18]},{menuId:5,powers:[10,11,12]},{menuId:6,powers:[14,15,16]}]},{id:3,title:"运维人员",desc:"运维人员不能删除对象",sorts:3,conditions:1,menuAndPowers:[{menuId:1,powers:[]},{menuId:2,powers:[]},{menuId:3,powers:[3]},{menuId:4,powers:[7,8]},{menuId:5,powers:[11,12]},{menuId:6,powers:[15,16]}]}],a=function(e){if(!e)return e;try{return decodeURIComponent(e)}catch(t){return e}};t.mockApi=function(e){const t=e.url,n=e.body;let c="string"==typeof n?JSON.parse(n):n,l=t;if(t.includes("?")){l=t.split("?")[0];const e=t.split("?")[1].split("&");c={};for(let t=0;t<e.length;t++)if(e[t]){const n=e[t].split("=");c[n[0]]=n[1]}}switch(l.includes("http")&&(l=l.replace(globalThis.location.protocol+"//"+globalThis.location.host,"")),console.info("请求接口：",l,c),l){case"/api/login":return function(e){const t=s.find((function(t){return t.username===e.username}));return t?t.password!==e.password?{status:204,data:null,message:"密码错误"}:{status:200,data:t,message:"登录成功"}:{status:204,data:null,message:"该用户不存在"}}(c);case"/api/getmenus":return{status:200,data:o,message:"success"};case"/api/getMenusById":return function(e){let t=[];if(e.id instanceof Array)t=o.filter((function(t){return e.id.includes(t.id)}));else{const n=o.find((function(t){return t.id===e.id}));t.push(n)}return{status:200,data:t,message:"success"}}(c);case"/api/addmenu":return(d=c).id=++r,o.push(d),{status:200,data:o,message:"添加成功"};case"/api/upmenu":return function(e){const t=o.findIndex((function(t){return t.id===e.id}));if(-1!==t){const n=Object.assign({},o[t],e);return o.splice(t,1,n),{status:200,data:o,message:"success"}}return{status:204,data:null,message:"未找到该条数据"}}(c);case"/api/delmenu":return function(e){const t=o.findIndex((function(t){return t.id===e.id}));if(-1!==t)return-1===o.findIndex((function(e){return e.parent===o[t].id}))?(o.splice(t,1),{status:200,data:o,message:"success"}):{status:204,data:null,message:"该菜单下有子菜单，无法删除"};return{status:204,data:null,message:"未找到该条数据"}}(c);case"/api/getpowerbymenuid":return function(e){const t=Number(e.menuId);return t?{status:200,data:u.filter((function(e){return e.menu===t})).sort((function(e,t){return e.sorts-t.sorts})),message:"success"}:{status:200,data:[],message:"success"}}(c);case"/api/getPowerById":return function(e){let t=[];if(e.id instanceof Array)t=u.filter((function(t){return e.id.includes(t.id)}));else{const n=u.find((function(t){return t.id===e.id}));t.push(n)}return{status:200,data:t,message:"success"}}(c);case"/api/addpower":return function(e){return e.id=++r,u.push(e),{status:200,data:{id:e.id},message:"success"}}(c);case"/api/uppower":return function(e){const t=u.findIndex((function(t){return t.id===e.id}));if(-1!==t){const n=Object.assign({},u[t],e);return u.splice(t,1,n),{status:200,data:{id:e.id},message:"success"}}return{status:204,data:null,message:"未找到该条数据"}}(c);case"/api/delpower":return function(e){const t=u.findIndex((function(t){return t.id===e.id}));return-1!==t?(u.splice(t,1),{status:200,data:null,message:"success"}):{status:204,data:null,message:"未找到该条数据"}}(c);case"/api/getroles":return function(e){const t=i.filter((function(t){let n=!0;const r=a(e.title),s=Number(e.conditions);return r&&!t.title.includes(r)&&(n=!1),s&&t.conditions!==s&&(n=!1),n}));return{status:200,data:{list:t.sort((function(e,t){return e.sorts-t.sorts})).slice((e.pageNum-1)*e.pageSize,e.pageNum*e.pageSize),total:t.length},message:"success"}}(c);case"/api/getAllRoles":return{status:200,data:i,message:"success"};case"/api/getRoleById":return function(e){let t=[];if(e.id instanceof Array)t=i.filter((function(t){return e.id.includes(t.id)}));else{const n=i.find((function(t){return t.id===e.id}));t.push(n)}return{status:200,data:t,message:"success"}}(c);case"/api/addrole":return function(e){return e.id=++r,e.menuAndPowers||(e.menuAndPowers=[]),i.push(e),{status:200,data:null,message:"success"}}(c);case"/api/uprole":return function(e){const t=i.findIndex((function(t){return t.id===e.id}));if(-1!==t){const n=Object.assign({},i[t],e);return i.splice(t,1,n),{status:200,data:null,message:"success"}}return{status:204,data:null,message:"未找到该条数据"}}(c);case"/api/delrole":return function(e){const t=i.findIndex((function(t){return t.id===e.id}));return-1!==t?(i.splice(t,1),{status:200,data:null,message:"success"}):{status:204,data:null,message:"未找到该条数据"}}(c);case"/api/findAllPowerByRoleId":return function(e){const t=i.find((function(t){return t.id===e.id}));if(t)return{status:200,data:t.powers.map((function(e,t){const n=o.find((function(t){return t.id===e.menuId})),r=e.powers.map((function(e){return u.find((function(t){return t.id===e}))}));return n.powers=r.filter((function(e){return 1===e.conditions})),n})),message:"success"};return{status:204,data:null,message:"未找到该角色"}}(c);case"/api/getAllMenusAndPowers":return{status:200,data:o.map((function(e){const t=e,n=u.filter((function(t){return t.menu===e.id&&1===t.conditions}));return t.powers=n,t})),message:"success"};case"/api/setPowersByRoleId":return function(e){const t=i.findIndex((function(t){return t.id===e.id}));if(-1!==t){const n=e.menus.map((function(e){return{menuId:e,powers:[]}}));return e.powers.forEach((function(e){const t=u.find((function(t){return t.id===e}));if(t){const r=t.menu;if(r){const t=n.find((function(e){return e.menuId===r}));t&&t.powers.push(e)}}})),i[t].menuAndPowers=n,{status:200,data:null,message:"success"}}return{status:204,data:null,message:"未找到该条数据"}}(c);case"/api/setPowersByRoleIds":return c.forEach((function(e){const t=i.findIndex((function(t){return t.id===e.id}));if(-1!==t){const n=e.menus.map((function(e){return{menuId:e,powers:[]}}));e.powers.forEach((function(e){const t=u.find((function(t){return t.id===e}));if(t){const r=t.menu;if(r){const t=n.find((function(e){return e.menuId===r}));t&&t.powers.push(e)}}})),i[t].menuAndPowers=n}})),{status:200,data:null,message:"success"};case"/api/getUserList":return function(e){const t=s.filter((function(t){let n=!0;const r=a(e.username),s=Number(e.conditions);return r&&!t.username.includes(r)&&(n=!1),s&&t.conditions!=s&&(n=!1),n})),n=Number(e.pageNum),r=Number(e.pageSize);return{status:200,data:{list:t.slice((n-1)*r,n*r),total:t.length},message:"success"}}(c);case"/api/addUser":return function(e){return e.id=++r,s.push(e),{status:200,data:null,message:"success"}}(c);case"/api/upUser":return function(e){const t=s.findIndex((function(t){return t.id===e.id}));if(-1!==t){const n=Object.assign({},s[t],e);return s.splice(t,1,n),{status:200,data:null,message:"success"}}return{status:204,data:null,message:"未找到该条数据"}}(c);case"/api/delUser":return function(e){const t=s.findIndex((function(t){return t.id===e.id}));return-1!==t?(s.splice(t,1),{status:200,data:null,message:"success"}):{status:204,data:null,message:"未找到该条数据"}}(c);default:return{status:404,data:null,message:"api not found"}}var d}},67221:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(67294),s=(0,n(45976).Z)({scriptUrl:"//at.alicdn.com/t/font_1688075_vwak21i2wxj.js"});function o(e){return r.createElement(s,{type:e.type})}},8657:function(e,t,n){"use strict";var r=n(67294),s=n(73935),o=n(37703),u=n(39520),i=location.protocol+"//"+location.host,a=n(9669),c=n.n(a),l=n(15623),d=n.n(l),f=n(85111);d().mock(/\/api.*/,(function(e){return f.mockApi(e)})),c().defaults.baseURL=i,c().defaults.withCredentials=!1,c().interceptors.response.use((function(e){return e.data}));var p=c(),m=n(11187),h=(n(75314),function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)}),A=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function u(e){try{a(r.next(e))}catch(e){o(e)}}function i(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,i)}a((r=r.apply(e,t||[])).next())}))},g=function(e,t){var n,r,s,o,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(s=2&o[0]?r.return:o[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(s=u.trys,(s=s.length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){u.label=o[1];break}if(6===o[0]&&u.label<s[1]){u.label=s[1],s=o;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(o);break}s[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(e,u)}catch(e){o=[6,e],r=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},w=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<n;t++)for(var o=arguments[t],u=0,i=o.length;u<i;u++,s++)r[s]=o[u];return r},E={state:{userinfo:{roles:[],menus:[],powers:[],userBasicInfo:null},powersCode:[]},reducers:{reducerUserInfo:function(e,t){return h(h({},e),{userinfo:t,powersCode:t.powers.map((function(e){return e.code}))})},reducerLogout:function(e){return h(h({},e),{userinfo:{menus:[],roles:[],powers:[]}})}},effects:function(e){return{onLogin:function(e){return A(this,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/login",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},onLogout:function(){return A(this,void 0,void 0,(function(){return g(this,(function(t){try{return e({type:"app/reducerLogout",payload:null}),sessionStorage.removeItem("userinfo"),[2,"success"]}catch(e){m.default.error("网络错误，请重试")}return[2]}))}))},setUserInfo:function(t){return A(this,void 0,void 0,(function(){return g(this,(function(n){return e.app.reducerUserInfo(t),[2,"success"]}))}))},updateUserInfo:function(t,n){return A(this,void 0,void 0,(function(){var t,r,s,o,u,i,a,c;return g(this,(function(l){switch(l.label){case 0:return t=n.app.userinfo,[4,e.sys.getRoleById({id:t.roles.map((function(e){return e.id}))})];case 1:return(r=l.sent())&&200===r.status?(s=r.data.filter((function(e){return 1===e.conditions})),o=s.reduce((function(e,t){return w(e,t.menuAndPowers)}),[]),[4,e.sys.getMenusById({id:Array.from(new Set(o.map((function(e){return e.menuId}))))})]):[2,r];case 2:return(u=l.sent())&&200===u.status?(i=u.data.filter((function(e){return 1===e.conditions})),[4,e.sys.getPowerById({id:Array.from(new Set(o.reduce((function(e,t){return w(e,t.powers)}),[])))})]):[2,u];case 3:return(a=l.sent())&&200===a.status?(c=a.data.filter((function(e){return 1===e.conditions})),this.setUserInfo(h(h({},t),{roles:s,menus:i,powers:c})),[2]):[2,a]}}))}))}}}},y=n(80129),b=n.n(y),I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},v=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function u(e){try{a(r.next(e))}catch(e){o(e)}}function i(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,i)}a((r=r.apply(e,t||[])).next())}))},k=function(e,t){var n,r,s,o,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(s=2&o[0]?r.return:o[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(s=u.trys,(s=s.length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){u.label=o[1];break}if(6===o[0]&&u.label<s[1]){u.label=s[1],s=o;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(o);break}s[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(e,u)}catch(e){o=[6,e],r=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},S={app:E,sys:{state:{menus:[],roles:[],powerTreeData:[]},reducers:{reducerSetMenus:function(e,t){return I(I({},e),{menus:t})},reducerSetRoles:function(e,t){return I(I({},e),{roles:t})},reducerSetAllPowers:function(e,t){return I(I({},e),{powerTreeData:t})}},effects:function(e){return{getMenus:function(){return v(this,void 0,void 0,(function(){var t;return k(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,p.get("/api/getmenus")];case 1:return(t=n.sent())&&200===t.status&&e.sys.reducerSetMenus(t.data),[2,t];case 2:return n.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},getMenusById:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/getMenusById",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},addMenu:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/addmenu",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},upMenu:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/upmenu",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},delMenu:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/delmenu",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},getPowerDataByMenuId:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.get("/api/getpowerbymenuid?"+b().stringify(e))];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},getPowerById:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/getPowerById",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},getAllRoles:function(){return v(this,void 0,void 0,(function(){var t;return k(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,p.get("/api/getAllRoles")];case 1:return(t=n.sent())&&200===t.status&&e.sys.reducerSetRoles(t.data),[2,t];case 2:return n.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},addPower:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/addpower",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},upPower:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/uppower",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},delPower:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/delpower",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},getRoles:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.get("/api/getroles?"+b().stringify(e))];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},getRoleById:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/getRoleById",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},addRole:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/addrole",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},upRole:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/uprole",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},delRole:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/delrole",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},findAllPowerByRoleId:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.get("/api/findAllPowerByRoleId?"+b().stringify(e))];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},getAllMenusAndPowers:function(){return v(this,void 0,void 0,(function(){var t;return k(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,p.get("/api/getAllMenusAndPowers")];case 1:return(t=n.sent())&&200===t.status&&e.sys.reducerSetAllPowers(t.data),[2,t];case 2:return n.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},setPowersByRoleId:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/setPowersByRoleId",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},setPowersByRoleIds:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/setPowersByRoleIds",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},getUserList:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.get("/api/getUserList?"+b().stringify(e))];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},addUser:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/addUser",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},upUser:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/upUser",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},delUser:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/delUser",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},setUserRoles:function(e){return v(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.post("/api/upUser",e)];case 1:return[2,t.sent()];case 2:return t.sent(),m.default.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))}}}}},C=(0,u.S1)({models:S}),U=n(16550),B=n(90071),R=n(4599),M=n(65117),N=n.n(M),Q=n(40684),x=n(16373),F=(n(73431),n(73727)),j=n(94055),O=(n(15086),n(12386)),L=(n(54214),n(82891)),J=(n(6373),n(76629)),D=n(21444),P=n(38296),K=n(83428),Z=n(78874),G=n(55035),T=n(18613),H=x.Z.Header;function Y(e){var t=(0,r.useState)(!1),n=t[0],s=t[1],o=(0,r.useCallback)((function(){var e=document.documentElement,t=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen;t&&t.call(e),s(!0)}),[]),u=(0,r.useCallback)((function(){var e=document,t=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;t&&t.call(document),s(!1)}),[]),i=(0,r.useCallback)((function(t){"logout"===t.key&&e.onLogout()}),[e]),a=e.userinfo.userBasicInfo;return r.createElement(H,{className:"header"},r.createElement(j.default,{placement:"bottom",title:e.collapsed?"展开菜单":"收起菜单"},r.createElement(J.Z,{className:e.collapsed?"trigger fold":"trigger",onClick:function(){return e.onToggle()}})),r.createElement("div",{className:"rightBox"},r.createElement(j.default,{placement:"bottom",title:n?"退出全屏":"全屏"},r.createElement("div",{className:"full all_center"},n?r.createElement(D.Z,{className:"icon",onClick:u}):r.createElement(P.Z,{className:"icon",onClick:o}))),a?r.createElement(L.default,{overlay:r.createElement(O.default,{className:"menu",selectedKeys:[],onClick:i},r.createElement(O.default.Item,null,r.createElement("a",{href:"https://blog.isluo.com",target:"_blank",rel:"noopener noreferrer"},r.createElement(K.Z,null),"blog.isluo.com")),r.createElement(O.default.Item,null,r.createElement("a",{href:"https://github.com/javaLuo/react-admin",target:"_blank",rel:"noopener noreferrer"},r.createElement(Z.Z,null),"GitHub")),r.createElement(O.default.Divider,null),r.createElement(O.default.Item,{key:"logout"},r.createElement(G.Z,null),"退出登录")),placement:"bottomRight"},r.createElement("div",{className:"userhead all_center"},r.createElement(T.Z,null),r.createElement("span",{className:"username"},a.username))):r.createElement(j.default,{placement:"bottom",title:"点击登录"},r.createElement("div",{className:"full all_center"},r.createElement(F.Link,{to:"/user/login"},"未登录")))))}var q=n(96486),W=n(14911),z=n(67221),V=function(){return(V=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},X=x.Z.Sider,_=O.default.SubMenu,$=O.default.Item;function ee(e){var t=(0,r.useState)([]),n=t[0],s=t[1],o=(0,r.useState)([]),u=o[0],i=o[1];(0,r.useEffect)((function(){var t=e.location.pathname.split("/").filter((function(e){return!!e}));s([e.location.pathname]),i(t.map((function(e){return"/"+e})))}),[e.location]);var a=(0,r.useCallback)((function(t){e.history.push(t.key)}),[e.history]),c=(0,r.useCallback)((function(e,t){var n;return(n=e?t.filter((function(t){return t.parent===e.id})):t.filter((function(e){return!e.parent}))).forEach((function(e){return e.children=c(e,t)})),n.length?n:null}),[]),l=(0,r.useCallback)((function(e){return e.map((function(e){return e.children?r.createElement(_,{key:e.url,title:!e.parent&&e.icon?r.createElement("span",null,r.createElement(z.Z,{type:e.icon}),r.createElement("span",null,e.title)):e.title},l(e.children)):r.createElement($,{key:e.url},!e.parent&&e.icon?r.createElement(z.Z,{type:e.icon}):null,r.createElement("span",null,e.title))}))}),[]),d=(0,r.useMemo)((function(){var t=(0,q.cloneDeep)(e.data);t.sort((function(e,t){return e.sorts-t.sorts}));var n=c(null,t)||[];return l(n)}),[e.data,c,l]);return r.createElement(X,{width:256,className:"sider",trigger:null,collapsible:!0,collapsed:e.collapsed},r.createElement("div",{className:e.collapsed?"menuLogo hide":"menuLogo"},r.createElement(F.Link,{to:"/"},r.createElement("img",{src:W.Z}),r.createElement("div",null,"React-Admin"))),r.createElement(O.default,V({theme:"dark",mode:"inline",selectedKeys:n},e.collapsed?{}:{openKeys:u},{onOpenChange:function(e){return i(e)},onSelect:a}),d))}var te=x.Z.Footer;function ne(e){return r.createElement(te,{className:"footer "+e.className},"© 2018-",(new Date).getFullYear()+" ",r.createElement("a",{href:"https://blog.isluo.com",target:"_blank",rel:"noopener noreferrer"},"blog.isluo.com"),", Inc.")}function re(){return r.createElement("div",{className:"loading"},r.createElement("img",{src:"data:image/gif;base64,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"}),r.createElement("div",null,"加载中..."))}var se,oe=n(21796),ue=(se=function(e,t){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}se(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ie=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasError:!1},n}return ue(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}},t.prototype.componentDidUpdate=function(e){e.location!==this.props.location&&this.setState({hasError:!1})},t.prototype.render=function(){return this.state.hasError?r.createElement("div",{className:"error-boundary"},r.createElement(oe.Z,{className:"error-icon"}),r.createElement("div",null,"加载出错,请刷新页面")):this.props.children},t}(r.PureComponent),ae=n(68672),ce=(n(60101),n(27557));function le(e){var t=(0,r.useMemo)((function(){var t=e.location.pathname,n=[],s=null;do{var o=e.menus.find((function(e){return e.id===s||e.url===t}));o?(n.push(r.createElement(ae.Z.Item,{key:o.id},o.title)),s=o.parent):s=null}while(s);return n.reverse(),n}),[e.location.pathname,e.menus]);return r.createElement("div",{className:"bread"},r.createElement(ce.Z,{className:"icon"}),r.createElement(ae.Z,null,t))}var de=function(){return(de=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},fe=x.Z.Content,pe=[function(){return n.e(545).then(n.bind(n,81545))},function(){return n.e(397).then(n.bind(n,2397))},function(){return n.e(72).then(n.bind(n,21072))},function(){return Promise.all([n.e(611),n.e(52),n.e(434),n.e(299),n.e(769)]).then(n.bind(n,80788))},function(){return Promise.all([n.e(611),n.e(52),n.e(434),n.e(299),n.e(274)]).then(n.bind(n,7030))},function(){return Promise.all([n.e(611),n.e(52),n.e(299),n.e(648)]).then(n.bind(n,96263))},function(){return Promise.all([n.e(611),n.e(52),n.e(434),n.e(228)]).then(n.bind(n,8803))}].map((function(e){return(0,Q.ZP)(e,{fallback:r.createElement(re,null)})})),me=pe[0],he=pe[1],Ae=pe[2],ge=pe[3],we=pe[4],Ee=pe[5],ye=pe[6];var be=(0,o.$j)((function(e){return{userinfo:e.app.userinfo}}),(function(e){return{onLogout:e.app.onLogout}}))((function(e){var t=(0,r.useState)(!1),n=t[0],s=t[1],o=(0,r.useCallback)((function(){e.onLogout().then((function(){m.default.success("退出成功"),e.history.push("/user/login")}))}),[e]),u=(0,r.useCallback)((function(t){var n=[];return e.userinfo.menus&&e.userinfo.menus.length?n=e.userinfo.menus:sessionStorage.getItem("userinfo")&&(n=JSON.parse(R.Z.uncompile(sessionStorage.getItem("userinfo")||"[]")).menus),!!n.map((function(e){return e.url})).includes(t)}),[e.userinfo]),i=(0,r.useCallback)((function(e,t){return u(t.location.pathname)?r.createElement(e,de({},t)):r.createElement(U.l_,{to:"/nopower"})}),[u]);return r.createElement(x.Z,{className:"page-basic",hasSider:!0},r.createElement(ee,{data:e.userinfo.menus,collapsed:n,location:e.location,history:e.history}),r.createElement(x.Z,null,r.createElement(Y,{collapsed:n,userinfo:e.userinfo,onToggle:function(){return s(!n)},onLogout:o}),r.createElement(le,{menus:e.userinfo.menus,location:e.location}),r.createElement(fe,{className:"content"},r.createElement(ie,{location:e.location},r.createElement(M.CacheSwitch,null,r.createElement(U.l_,{exact:!0,from:"/",to:"/home"}),r.createElement(U.AW,{exact:!0,path:"/home",render:function(e){return i(Ae,e)}}),r.createElement(U.AW,{exact:!0,path:"/system/menuadmin",render:function(e){return i(ge,e)}}),r.createElement(U.AW,{exact:!0,path:"/system/poweradmin",render:function(e){return i(we,e)}}),r.createElement(U.AW,{exact:!0,path:"/system/roleadmin",render:function(e){return i(Ee,e)}}),r.createElement(N(),{exact:!0,path:"/system/useradmin",render:function(e){return i(ye,e)}}),r.createElement(U.AW,{exact:!0,path:"/nopower",component:he}),r.createElement(U.AW,{component:me})))),r.createElement(ne,null)))})),Ie=x.Z.Content,ve=[function(){return n.e(545).then(n.bind(n,81545))},function(){return Promise.all([n.e(611),n.e(128)]).then(n.bind(n,22128))}].map((function(e){return(0,Q.ZP)(e,{fallback:r.createElement(re,null)})})),ke=ve[0],Se=ve[1];function Ce(){return r.createElement(x.Z,{className:"page-user"},r.createElement(Ie,{className:"content"},r.createElement(U.rs,null,r.createElement(U.l_,{exact:!0,from:"/user",to:"/user/login"}),r.createElement(U.AW,{exact:!0,path:"/user/login",component:Se}),r.createElement(U.AW,{component:ke}))),r.createElement(ne,{className:"user-layout"}))}var Ue=function(){return(Ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};m.default.config({duration:2});var Be=(0,B.q_)();var Re=(0,o.$j)((function(e){return{userinfo:e.app.userinfo}}),(function(e){return{setUserInfo:e.app.setUserInfo}}))((function(e){(0,r.useEffect)((function(){var t=sessionStorage.getItem("userinfo");t&&!e.userinfo.userBasicInfo&&e.setUserInfo(JSON.parse(R.Z.uncompile(t)))}),[e]);var t=(0,r.useCallback)((function(e,t){return sessionStorage.getItem("userinfo")?r.createElement(e,Ue({},t)):r.createElement(U.l_,{to:"/user/login"})}),[]);return r.createElement(U.F0,{history:Be},r.createElement(U.AW,{render:function(){return r.createElement(U.rs,null,r.createElement(U.AW,{path:"/user",component:Ce}),r.createElement(U.AW,{path:"/",render:function(e){return t(be,e)}}))}}))}));s.render(r.createElement((function(){return r.createElement(o.zt,{store:C},r.createElement(Re,null))}),null),document.getElementById("root"))},4599:function(e,t){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},r={pointX:function(e,t){if(void 0===t&&(t=0),!e&&0!==e)return e;var n=Number(e);return 0===n||n?n.toFixed(t):e},trim:function(e){return e.replace(/^\s*|\s*$/g,"")},addMosaic:function(e){var t=String(e),n=t.length,r=function(){if(t.length<=2)return 0;var e=t.length-2;return e<=6?e:6}(),s=Math.floor((n-r)/2);return t.split("").map((function(e,t){return t>=s&&t<s+r?"*":e})).join("")},checkStr:function(e){if(""===e)return!0;return/^[_a-zA-Z0-9]+$/.test(e)},checkNumber:function(e){if(!e)return!0;return/^\d*$/.test(e)},checkPhone:function(e){return/^1[34578]\d{9}$/.test(String(e))},checkEmail:function(e){return/^[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*@[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*\.[a-z]{2,}$/.test(e)},compile:function(e){for(var t=String.fromCharCode(e.charCodeAt(0)+e.length),n=1;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)+e.charCodeAt(n-1));return t},uncompile:function(e){for(var t=String.fromCharCode(e.charCodeAt(0)-e.length),n=1;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)-t.charCodeAt(n-1));return t},clearNull:function(e){var t=n({},e);return Object.keys(t).forEach((function(e){0===t[e]||t[e]||delete t[e]})),t}};t.Z=r},14911:function(e,t,n){"use strict";t.Z=n.p+"assets/logo.f16d.png"}},o={};function u(e){if(o[e])return o[e].exports;var t=o[e]={id:e,loaded:!1,exports:{}};return s[e].call(t.exports,t,t.exports,u),t.loaded=!0,t.exports}u.m=s,u.x=function(){},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,{a:t}),t},u.d=function(e,t){for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.f={},u.e=function(e){return Promise.all(Object.keys(u.f).reduce((function(t,n){return u.f[n](e,t),t}),[]))},u.u=function(e){return"dist/"+e+"."+{52:"7fc87656",72:"d5dac967",128:"e4766400",228:"8ccf6e3c",274:"cf0e5b6a",299:"85cd939b",397:"33b51a57",434:"b090c08e",545:"390b497c",611:"73a7e5dc",648:"c2938b94",769:"e8473065"}[e]+".chunk.js"},u.miniCssF=function(e){return"dist/"+(179===e?"main":e)+"."+{52:"7fc87656",72:"d5dac967",128:"e4766400",179:"undefine",228:"8ccf6e3c",274:"cf0e5b6a",299:"85cd939b",397:"33b51a57",434:"b090c08e",545:"390b497c",611:"73a7e5dc",620:"e0bbe55c",648:"c2938b94",769:"e8473065"}[e]+".css"},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="react_luo:",u.l=function(n,r,s,o){if(e[n])e[n].push(r);else{var i,a;if(void 0!==s)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+s){i=d;break}}i||(a=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,u.nc&&i.setAttribute("nonce",u.nc),i.setAttribute("data-webpack",t+s),i.src=n),e[n]=[r];var f=function(t,r){i.onerror=i.onload=null,clearTimeout(p);var s=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),a&&document.head.appendChild(i)}},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},u.p="/work/admin/",n=function(e){return new Promise((function(t,n){var r=u.miniCssF(e),s=u.p+r;if(function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var s=(u=n[r]).getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(s===e||s===t))return u}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var u;if((s=(u=o[r]).getAttribute("data-href"))===e||s===t)return u}}(r,s))return t();!function(e,t,n,r){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.onerror=s.onload=function(o){if(s.onerror=s.onload=null,"load"===o.type)n();else{var u=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.href||t,a=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");a.code="CSS_CHUNK_LOAD_FAILED",a.type=u,a.request=i,s.parentNode.removeChild(s),r(a)}},s.href=t,document.head.appendChild(s)}(e,s,t,n)}))},r={179:0},u.f.miniCss=function(e,t){r[e]?t.push(r[e]):0!==r[e]&&{52:1,72:1,128:1,228:1,274:1,397:1,545:1,611:1,648:1,769:1}[e]&&t.push(r[e]=n(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))},function(){var e={179:0},t=[[3206,620],[8657,620]];u.f.j=function(t,n){var r=u.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise((function(n,s){r=e[t]=[n,s]}));n.push(r[2]=s);var o=u.p+u.u(t),i=new Error;u.l(o,(function(n){if(u.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,r[1](i)}}),"chunk-"+t,t)}};var n=function(){},r=function(r,s){for(var o,i,a=s[0],c=s[1],l=s[2],d=s[3],f=0,p=[];f<a.length;f++)i=a[f],u.o(e,i)&&e[i]&&p.push(e[i][0]),e[i]=0;for(o in c)u.o(c,o)&&(u.m[o]=c[o]);for(l&&l(u),r&&r(s);p.length;)p.shift()();return d&&t.push.apply(t,d),n()},s=self.webpackChunkreact_luo=self.webpackChunkreact_luo||[];function o(){for(var n,r=0;r<t.length;r++){for(var s=t[r],o=!0,i=1;i<s.length;i++){var a=s[i];0!==e[a]&&(o=!1)}o&&(t.splice(r--,1),n=u(u.s=s[0]))}return 0===t.length&&(u.x(),u.x=function(){}),n}s.forEach(r.bind(null,0)),s.push=r.bind(null,s.push.bind(s));var i=u.x;u.x=function(){return u.x=i||function(){},(n=o)()}}(),u.x()}();