!function(e){function t(t){for(var r,s,i=t[0],u=t[1],c=t[2],l=0,f=[];l<i.length;l++)s=i[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(d&&d(t);f.length;)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},s={5:0},a={5:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[];s[e]?t.push(s[e]):0!==s[e]&&{0:1,1:1,2:1,3:1,4:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1}[e]&&t.push(s[e]=new Promise((function(t,n){for(var r="dist/"+({}[e]||e)+"."+{0:"a135d31c",1:"55bceacf",2:"fbd861bc",3:"fcd60277",4:"8a855c02",7:"2c752dec",8:"f111f1d1",9:"602254aa",10:"9b891462",11:"219ae10e",12:"1ccdf141",13:"aca4db39"}[e]+".css",a=i.p+r,o=document.getElementsByTagName("link"),u=0;u<o.length;u++){var c=(d=o[u]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(c===r||c===a))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){var d;if((c=(d=l[u]).getAttribute("data-href"))===r||c===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete s[e],f.parentNode.removeChild(f),n(o)},f.href=a,document.getElementsByTagName("head")[0].appendChild(f)})).then((function(){s[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(e){return i.p+"dist/"+({}[e]||e)+"."+{0:"a135d31c",1:"55bceacf",2:"fbd861bc",3:"fcd60277",4:"8a855c02",7:"2c752dec",8:"f111f1d1",9:"602254aa",10:"9b891462",11:"219ae10e",12:"1ccdf141",13:"aca4db39"}[e]+".chunk.js"}(e);var c=new Error;o=function(t){u.onerror=u.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",c.name="ChunkLoadError",c.type=r,c.request=s,n[1](c)}a[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/work/pwa/",i.oe=function(e){throw e};var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var d=c;o.push([170,6]),n()}({149:function(e,t,n){"use strict";t.a=n.p+"assets/logo.f16d.png"},170:function(e,t,n){n(171),e.exports=n(320)},208:function(e,t,n){n(96).setup({timeout:"0-500"});let r=1e3;const s=[{id:1,username:"admin",password:"123456",phone:"13600000000",email:"admin@react.com",desc:"超级管理员",conditions:1,roles:[1,2,3]},{id:2,username:"user",password:"123456",phone:"13600000001",email:"user@react.com",desc:"普通管理员",conditions:1,roles:[2]},{id:3,username:"user",password:"123456",phone:"13600000001",email:"user@react.com",desc:"普通管理员3",conditions:1,roles:[2]},{id:4,username:"user",password:"123456",phone:"13600000001",email:"user@react.com",desc:"普通管理员4",conditions:1,roles:[2]},{id:5,username:"user",password:"123456",phone:"13600000001",email:"user@react.com",desc:"普通管理员5",conditions:1,roles:[2]}],a={notice:[{title:"你收到了12份新需求变更",time:"昨天",icon:"mail",color:"#FE5D58"},{title:"公告：国庆节放假安排",time:"今天上午",icon:"star",color:"#3391E5"},{title:"leader将你添加到新的开发小组",time:"今天上午",icon:"team",color:"#9DDEDE"}],message:[{title:"大神回复了你",time:"昨天",info:"版本更新了，你去参考一下分支A的代码",icon:"smile-o",color:"#3391E5"},{title:"测试员小红评论了你",time:"今天上午",info:"大佬，那确实不是一个BUG，是我考虑不周，见谅，下午请你喝奶茶",icon:"smile-o",color:"#FE5D58"}],work:[{title:"系统部署",info:"服务器环境已经搭建完毕，需要下一步部署",type:"未开始",color:""},{title:"需求变更",info:"今早有6个优先级高的需求改动",type:"进行中",color:"blue"},{title:"分支A代码合并",info:"git上的分支需合并至master",type:"已完成",color:"geekblue"}]},o=[{id:1,title:"首页",icon:"icon-home",url:"/home",parent:null,desc:"首页",sorts:0,conditions:1},{id:2,title:"系统管理",icon:"icon-setting",url:"/system",parent:null,desc:"系统管理目录分支",sorts:1,conditions:1},{id:3,title:"用户管理",icon:"icon-user",url:"/useradmin",parent:2,desc:"系统管理/用户管理",sorts:0,conditions:1},{id:4,title:"角色管理",icon:"icon-team",url:"/roleadmin",parent:2,desc:"系统管理/角色管理",sorts:1,conditions:1},{id:5,title:"权限管理",icon:"icon-safetycertificate",url:"/poweradmin",parent:2,desc:"系统管理/权限管理",sorts:2,conditions:1},{id:6,title:"菜单管理",icon:"icon-appstore",url:"/menuadmin",parent:2,desc:"系统管理/菜单管理",sorts:3,conditions:1}],i=[{id:1,menu:3,title:"新增",code:"user:add",desc:"用户管理 - 添加权限",sorts:1,conditions:1},{id:2,menu:3,title:"修改",code:"user:up",desc:"用户管理 - 修改权限",sorts:2,conditions:1},{id:3,menu:3,title:"查看",code:"user:query",desc:"用户管理 - 查看权限",sorts:3,conditions:1},{id:4,menu:3,title:"删除",code:"user:del",desc:"用户管理 - 删除权限",sorts:4,conditions:1},{id:5,menu:3,title:"分配角色",code:"user:role",desc:"用户管理 - 分配角色权限",sorts:5,conditions:1},{id:6,menu:4,title:"新增",code:"role:add",desc:"角色管理 - 添加权限",sorts:1,conditions:1},{id:7,menu:4,title:"修改",code:"role:up",desc:"角色管理 - 修改权限",sorts:2,conditions:1},{id:8,menu:4,title:"查看",code:"role:query",desc:"角色管理 - 查看权限",sorts:3,conditions:1},{id:18,menu:4,title:"分配权限",code:"role:power",desc:"角色管理 - 分配权限",sorts:4,conditions:1},{id:9,menu:4,title:"删除",code:"role:del",desc:"角色管理 - 删除权限",sorts:5,conditions:1},{id:10,menu:5,title:"新增",code:"power:add",desc:"权限管理 - 添加权限",sorts:1,conditions:1},{id:11,menu:5,title:"修改",code:"power:up",desc:"权限管理 - 修改权限",sorts:2,conditions:1},{id:12,menu:5,title:"查看",code:"power:query",desc:"权限管理 - 查看权限",sorts:3,conditions:1},{id:13,menu:5,title:"删除",code:"power:del",desc:"权限管理 - 删除权限",sorts:2,conditions:1},{id:14,menu:6,title:"新增",code:"menu:add",desc:"菜单管理 - 添加权限",sorts:1,conditions:1},{id:15,menu:6,title:"修改",code:"menu:up",desc:"菜单管理 - 修改权限",sorts:2,conditions:1},{id:16,menu:6,title:"查看",code:"menu:query",desc:"菜单管理 - 查看权限",sorts:3,conditions:1},{id:17,menu:6,title:"删除",code:"menu:del",desc:"菜单管理 - 删除权限",sorts:2,conditions:1}],u=[{id:1,title:"超级管理员",desc:"超级管理员拥有所有权限",sorts:1,conditions:1,menuAndPowers:[{menuId:1,powers:[]},{menuId:2,powers:[]},{menuId:3,powers:[1,2,3,4,5]},{menuId:4,powers:[6,7,8,9,18]},{menuId:5,powers:[10,11,12,13]},{menuId:6,powers:[14,15,16,17]}]},{id:2,title:"普通管理员",desc:"普通管理员",sorts:2,conditions:1,menuAndPowers:[{menuId:1,powers:[]},{menuId:2,powers:[]},{menuId:3,powers:[3]},{menuId:4,powers:[6,7,8,18]},{menuId:5,powers:[10,11,12]},{menuId:6,powers:[14,15,16]}]},{id:3,title:"运维人员",desc:"运维人员不能删除对象",sorts:3,conditions:1,menuAndPowers:[{menuId:1,powers:[]},{menuId:2,powers:[]},{menuId:3,powers:[3]},{menuId:4,powers:[7,8]},{menuId:5,powers:[11,12]},{menuId:6,powers:[15,16]}]}];t.mockApi=({url:e,body:t})=>{let n="string"==typeof t?JSON.parse(t):t,c=e;if(e.includes("?")){c=e.split("?")[0];const t=new URLSearchParams(e.split("?")[1]);n={};for(const e of t.entries())n[e[0]]=e[1]}switch(c){case"/api/login":return(e=>{const t=s.find(t=>t.username===e.username);return t?t.password!==e.password?{status:204,data:null,message:"密码错误"}:{status:200,data:t,message:"登录成功"}:{status:204,data:null,message:"该用户不存在"}})(n);case"/api/getnews":return{status:200,data:a,total:a.notice.length+a.message.length+a.work.length,message:"success"};case"/api/clearnews":return(e=>{switch(e.type){case"notice":a.notice.length=0;break;case"message":a.message.length=0;break;case"work":a.work.length=0}return{status:200,data:a,total:a.notice.length+a.message.length+a.work.length,message:"删除成功"}})(n);case"/api/getnewstotal":return{status:200,data:a.notice.length+a.message.length+a.work.length,message:"success"};case"/api/getmenus":return{status:200,data:o,message:"success"};case"/api/getMenusById":return(e=>{let t=[];if(e.id instanceof Array)t=o.filter(t=>e.id.includes(t.id));else{const n=o.find(t=>t.id===e.id);t.push(n)}return{status:200,data:t,message:"success"}})(n);case"/api/addmenu":return(l=n).id=++r,o.push(l),{status:200,data:o,message:"添加成功"};case"/api/upmenu":return(e=>{const t=o.findIndex(t=>t.id===e.id);if(-1!==t){const n=Object.assign({},o[t],e);return o.splice(t,1,n),{status:200,data:o,message:"success"}}return{status:204,data:null,message:"未找到该条数据"}})(n);case"/api/delmenu":return(e=>{const t=o.findIndex(t=>t.id===e.id);if(-1!==t){return-1===o.findIndex(e=>e.parent===o[t].id)?(o.splice(t,1),{status:200,data:o,message:"success"}):{status:204,data:null,message:"该菜单下有子菜单，无法删除"}}return{status:204,data:null,message:"未找到该条数据"}})(n);case"/api/getpowerbymenuid":return(e=>{const t=Number(e.menuId);return t?{status:200,data:i.filter(e=>e.menu===t).sort((e,t)=>e.sorts-t.sorts),message:"success"}:{status:200,data:[],message:"success"}})(n);case"/api/getPowerById":return(e=>{let t=[];if(e.id instanceof Array)t=i.filter(t=>e.id.includes(t.id));else{const n=i.find(t=>t.id===e.id);t.push(n)}return{status:200,data:t,message:"success"}})(n);case"/api/addpower":return(e=>(e.id=++r,i.push(e),{status:200,data:{id:e.id},message:"success"}))(n);case"/api/uppower":return(e=>{const t=i.findIndex(t=>t.id===e.id);if(-1!==t){const n=Object.assign({},i[t],e);return i.splice(t,1,n),{status:200,data:{id:e.id},message:"success"}}return{status:204,data:null,message:"未找到该条数据"}})(n);case"/api/delpower":return(e=>{const t=i.findIndex(t=>t.id===e.id);return-1!==t?(i.splice(t,1),{status:200,data:null,message:"success"}):{status:204,data:null,message:"未找到该条数据"}})(n);case"/api/getroles":return(e=>{const t=u.filter(t=>{let n=!0;return e.title&&!t.title.includes(e.title)&&(n=!1),e.conditions&&t.conditions!=e.conditions&&(n=!1),n});return{status:200,data:{list:t.sort((e,t)=>e.sorts-t.sorts).slice((e.pageNum-1)*e.pageSize,e.pageNum*e.pageSize),total:t.length},message:"success"}})(n);case"/api/getAllRoles":return{status:200,data:u,message:"success"};case"/api/getRoleById":return(e=>{let t=[];if(e.id instanceof Array)t=u.filter(t=>e.id.includes(t.id));else{const n=u.find(t=>t.id===e.id);t.push(n)}return{status:200,data:t,message:"success"}})(n);case"/api/addrole":return(e=>(e.id=++r,e.menuAndPowers||(e.menuAndPowers=[]),u.push(e),{status:200,data:null,message:"success"}))(n);case"/api/uprole":return(e=>{const t=u.findIndex(t=>t.id===e.id);if(-1!==t){const n=Object.assign({},u[t],e);return u.splice(t,1,n),{status:200,data:null,message:"success"}}return{status:204,data:null,message:"未找到该条数据"}})(n);case"/api/delrole":return(e=>{const t=u.findIndex(t=>t.id===e.id);return-1!==t?(u.splice(t,1),{status:200,data:null,message:"success"}):{status:204,data:null,message:"未找到该条数据"}})(n);case"/api/findAllPowerByRoleId":return(e=>{const t=u.find(t=>t.id===e.id);if(t){return{status:200,data:t.powers.map((e,t)=>{const n=o.find(t=>t.id===e.menuId),r=e.powers.map(e=>i.find(t=>t.id===e));return n.powers=r.filter(e=>1===e.conditions),n}),message:"success"}}return{status:204,data:null,message:"未找到该角色"}})(n);case"/api/getAllMenusAndPowers":return{status:200,data:o.map(e=>{const t=e,n=i.filter(t=>t.menu===e.id&&1===t.conditions);return t.powers=n,t}),message:"success"};case"/api/setPowersByRoleId":return(e=>{const t=u.findIndex(t=>t.id===e.id);if(-1!==t){const n=e.menus.map(e=>({menuId:e,powers:[]}));return e.powers.forEach(e=>{const t=i.find(t=>t.id===e);if(t){const r=t.menu;if(r){const t=n.find(e=>e.menuId===r);t&&t.powers.push(e)}}}),u[t].menuAndPowers=n,{status:200,data:null,message:"success"}}return{status:204,data:null,message:"未找到该条数据"}})(n);case"/api/setPowersByRoleIds":return n.forEach(e=>{const t=u.findIndex(t=>t.id===e.id);if(-1!==t){const n=e.menus.map(e=>({menuId:e,powers:[]}));e.powers.forEach(e=>{const t=i.find(t=>t.id===e);if(t){const r=t.menu;if(r){const t=n.find(e=>e.menuId===r);t&&t.powers.push(e)}}}),u[t].menuAndPowers=n}}),{status:200,data:null,message:"success"};case"/api/getUserList":return(e=>{const t=s.filter(t=>{let n=!0;return e.username&&!t.username.includes(e.username)&&(n=!1),e.conditions&&t.conditions!=e.conditions&&(n=!1),n}),n=Number(e.pageNum),r=Number(e.pageSize);return{status:200,data:{list:t.slice((n-1)*r,n*r),total:t.length},message:"success"}})(n);case"/api/addUser":return(e=>(e.id=++r,s.push(e),{status:200,data:null,message:"success"}))(n);case"/api/upUser":return(e=>{const t=s.findIndex(t=>t.id===e.id);if(-1!==t){const n=Object.assign({},s[t],e);return s.splice(t,1,n),{status:200,data:null,message:"success"}}return{status:204,data:null,message:"未找到该条数据"}})(n);case"/api/delUser":return(e=>{const t=s.findIndex(t=>t.id===e.id);return-1!==t?(s.splice(t,1),{status:200,data:null,message:"success"}):{status:204,data:null,message:"未找到该条数据"}})(n);case"/api/setUserRoles":return(e=>{const t=s.findIndex(t=>t.id===e.id);return-1!==t?(s.splice(t,1),{status:200,data:null,message:"success"}):{status:204,data:null,message:"未找到该条数据"}})(n);default:return{status:404,data:null,message:"api not found"}}var l}},266:function(e,t,n){},288:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){},309:function(e,t,n){},314:function(e,t,n){},315:function(e,t,n){},316:function(e,t,n){},318:function(e,t,n){},319:function(e,t,n){},320:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(5),o=n.n(a),i=n(38),u=n(154),c=n(57),l=n.n(c),d=n(96),f=n.n(d),p=n(208);f.a.mock(/\/api.*/,(function(e){return p.mockApi(e)})),l.a.defaults.withCredentials=!1,l.a.defaults.baseURL="http://localhost:8888",l.a.interceptors.response.use((function(e){return e.data}));var m=l.a,h=n(3),g=n.n(h),A=(n(59),function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)}),w=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function i(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}u((r=r.apply(e,t||[])).next())}))},E=function(e,t){var n,r,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},y=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,i=a.length;o<i;o++,s++)r[s]=a[o];return r},b={state:{userinfo:{roles:[],menus:[],powers:[],userBasicInfo:null},powersCode:[]},reducers:{reducerUserInfo:function(e,t){return A(A({},e),{userinfo:t,powersCode:t.powers.map((function(e){return e.code}))})},reducerLogout:function(e){return A(A({},e),{userinfo:{menus:[],roles:[],powers:[]}})}},effects:function(e){return{onLogin:function(e){return void 0===e&&(e={}),w(this,void 0,void 0,(function(){return E(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/login",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},onLogout:function(){return w(this,void 0,void 0,(function(){return E(this,(function(t){try{return e.app.reducerLogout(),sessionStorage.removeItem("userinfo"),[2,"success"]}catch(e){g.a.error("网络错误，请重试")}return[2]}))}))},setUserInfo:function(t){return w(this,void 0,void 0,(function(){return E(this,(function(n){return e.app.reducerUserInfo(t),[2,"success"]}))}))},updateUserInfo:function(t,n){return w(this,void 0,void 0,(function(){var t,r,s,a,o,i,u,c;return E(this,(function(l){switch(l.label){case 0:return t=n.app.userinfo,[4,e.sys.getRoleById({id:t.roles.map((function(e){return e.id}))})];case 1:return(r=l.sent())&&200===r.status?(s=r.data.filter((function(e){return 1===e.conditions})),a=s.reduce((function(e,t){return y(e,t.menuAndPowers)}),[]),[4,e.sys.getMenusById({id:Array.from(new Set(a.map((function(e){return e.menuId}))))})]):[2,r];case 2:return(o=l.sent())&&200===o.status?(i=o.data.filter((function(e){return 1===e.conditions})),[4,e.sys.getPowerById({id:Array.from(new Set(a.reduce((function(e,t){return y(e,t.powers)}),[])))})]):[2,o];case 3:return(u=l.sent())&&200===u.status?(c=u.data.filter((function(e){return 1===e.conditions})),this.setUserInfo(A(A({},t),{roles:s,menus:i,powers:c})),[2]):[2,u]}}))}))}}}},v=n(58),I=n.n(v),k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},S=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function i(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}u((r=r.apply(e,t||[])).next())}))},U=function(e,t){var n,r,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},B={app:b,sys:{state:{menus:[],roles:[],powerTreeData:[]},reducers:{reducerSetMenus:function(e,t){return k(k({},e),{menus:t})},reducerSetRoles:function(e,t){return k(k({},e),{roles:t})},reducerSetAllPowers:function(e,t){return k(k({},e),{powerTreeData:t})}},effects:function(e){return{getMenus:function(){return S(this,void 0,void 0,(function(){var t;return U(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,m.get("/api/getmenus")];case 1:return(t=n.sent())&&200===t.status&&e.sys.reducerSetMenus(t.data),[2,t];case 2:return n.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},getMenusById:function(e){return void 0===e&&(e=[]),S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/getMenusById",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},addMenu:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/addmenu",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},upMenu:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/upmenu",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},delMenu:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/delmenu",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},getPowerDataByMenuId:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.get("/api/getpowerbymenuid?"+I.a.stringify(e))];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},getPowerById:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/getPowerById",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},getAllRoles:function(){return S(this,void 0,void 0,(function(){var t;return U(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,m.get("/api/getAllRoles")];case 1:return(t=n.sent())&&200===t.status&&e.sys.reducerSetRoles(t.data),[2,t];case 2:return n.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},addPower:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/addpower",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},upPower:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/uppower",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},delPower:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/delpower",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},getRoles:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.get("/api/getroles?"+I.a.stringify(e))];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},getRoleById:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/getRoleById",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},addRole:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/addrole",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},upRole:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/uprole",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},delRole:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/delrole",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},findAllPowerByRoleId:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.get("/api/findAllPowerByRoleId?"+I.a.stringify(e))];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},getAllMenusAndPowers:function(){return S(this,void 0,void 0,(function(){var t;return U(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,m.get("/api/getAllMenusAndPowers")];case 1:return(t=n.sent())&&200===t.status&&e.sys.reducerSetAllPowers(t.data),[2,t];case 2:return n.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},setPowersByRoleId:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/setPowersByRoleId",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},setPowersByRoleIds:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/setPowersByRoleIds",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},getUserList:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.get("/api/getUserList?"+I.a.stringify(e))];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},addUser:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/addUser",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},upUser:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/upUser",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},delUser:function(e){return S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/delUser",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))},setUserRoles:function(e){return void 0===e&&(e={}),S(this,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,m.post("/api/setUserRoles",e)];case 1:return[2,t.sent()];case 2:return t.sent(),g.a.error("网络错误，请重试"),[3,3];case 3:return[2]}}))}))}}}}},C=Object(u.init)({models:B}),O=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?t&&t.onUpdate&&t.onUpdate(e):t&&t.onSuccess&&t.onSuccess(e))})}})).catch((function(e){}))}var R=n(23),M=n(10),Q=n(61),N=n(72),x=n(12),F=n.n(x),L=(n(54),n(266),n(31)),J=n(51),D=n.n(J),P=(n(107),n(17)),K=n.n(P),G=(n(91),n(118)),H=n.n(G),T=(n(116),n(325)),Y=n(326),q=n(327),Z=n(328),V=n(329),W=n(330),z=n(331),X=(n(288),F.a.Header);function _(e){var t=Object(r.useState)(!1),n=t[0],a=t[1],o=Object(r.useCallback)((function(){var e=document.documentElement,t=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen;t&&t.call(e),a(!0)}),[]),i=Object(r.useCallback)((function(){var e=document,t=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;t&&t.call(document),a(!1)}),[]),u=Object(r.useCallback)((function(t){"logout"===t.key&&e.onLogout()}),[e]),c=e.userinfo.userBasicInfo;return s.a.createElement(X,{className:"header"},s.a.createElement(D.a,{placement:"bottom",title:e.collapsed?"展开菜单":"收起菜单"},s.a.createElement(T.a,{className:e.collapsed?"trigger fold":"trigger",onClick:function(){return e.onToggle()}})),s.a.createElement("div",{className:"rightBox"},s.a.createElement(D.a,{placement:"bottom",title:n?"退出全屏":"全屏"},s.a.createElement("div",{className:"full all_center"},n?s.a.createElement(Y.a,{className:"icon",onClick:i}):s.a.createElement(q.a,{className:"icon",onClick:o}))),c?s.a.createElement(H.a,{overlay:s.a.createElement(K.a,{className:"menu",selectedKeys:[],onClick:u},s.a.createElement(K.a.Item,null,s.a.createElement("a",{href:"https://blog.isluo.com",target:"_blank",rel:"noopener noreferrer"},s.a.createElement(Z.a,null),"blog.isluo.com")),s.a.createElement(K.a.Item,null,s.a.createElement("a",{href:"https://github.com/javaLuo/react-admin",target:"_blank",rel:"noopener noreferrer"},s.a.createElement(V.a,null),"GitHub")),s.a.createElement(K.a.Divider,null),s.a.createElement(K.a.Item,{key:"logout"},s.a.createElement(W.a,null),"退出登录")),placement:"bottomRight"},s.a.createElement("div",{className:"userhead all_center"},s.a.createElement(z.a,null),s.a.createElement("span",{className:"username"},c.username))):s.a.createElement(D.a,{placement:"bottom",title:"点击登录"},s.a.createElement("div",{className:"full all_center"},s.a.createElement(L.a,{to:"/user/login"},"未登录")))))}var $=n(115),ee=(n(305),n(149)),te=n(99),ne=function(){return(ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},re=F.a.Sider,se=K.a.SubMenu,ae=K.a.Item;function oe(e){var t=Object(r.useState)([]),n=t[0],a=t[1],o=Object(r.useState)([]),i=o[0],u=o[1];Object(r.useEffect)((function(){var t=e.location.pathname.split("/").filter((function(e){return!!e}));a([e.location.pathname]),u(t.map((function(e){return"/"+e})))}),[e.location]);var c=Object(r.useCallback)((function(t){e.history.push(t.key)}),[e.history]),l=Object(r.useCallback)((function(e,t){var n;return(n=e?t.filter((function(t){return t.parent===e.id})):t.filter((function(e){return!e.parent}))).forEach((function(e){return e.children=l(e,t)})),n.length?n:null}),[]),d=Object(r.useCallback)((function(e,t){return e.map((function(e){var n=t+"/"+e.url.replace(/\//,"");return e.children?s.a.createElement(se,{key:n,title:!e.parent&&e.icon?s.a.createElement("span",null,s.a.createElement(te.a,{type:e.icon}),s.a.createElement("span",null,e.title)):e.title},d(e.children,n)):s.a.createElement(ae,{key:n},!e.parent&&e.icon?s.a.createElement(te.a,{type:e.icon}):null,s.a.createElement("span",null,e.title))}))}),[]),f=Object(r.useMemo)((function(){var t=Object($.cloneDeep)(e.data);t.sort((function(e,t){return e.sorts-t.sorts}));var n=l(null,t)||[];return d(n,"")}),[e.data,l,d]);return s.a.createElement(re,{width:256,className:"sider",trigger:null,collapsible:!0,collapsed:e.collapsed},s.a.createElement("div",{className:e.collapsed?"menuLogo hide":"menuLogo"},s.a.createElement(L.a,{to:"/"},s.a.createElement("img",{src:ee.a}),s.a.createElement("div",null,"React-Admin"))),s.a.createElement(K.a,ne({theme:"dark",mode:"inline",selectedKeys:n},e.collapsed?{}:{openKeys:i},{onOpenChange:u,onSelect:c}),f))}n(306);var ie=F.a.Footer;function ue(e){return s.a.createElement(ie,{className:"footer "+e.className},"© 2018-2020"," ",s.a.createElement("a",{href:"https://blog.isluo.com",target:"_blank",rel:"noopener noreferrer"},"blog.isluo.com"),", Inc.")}var ce=n(104),le=n.n(ce),de=(n(307),n(332));n(309);function fe(e){var t=Object(r.useMemo)((function(){var t=e.location.pathname.split("/").filter((function(e){return!!e})),n=[];return t.forEach((function(t,r){var a=e.menus.find((function(e){return e.url.replace(/^\//,"")===t}));a&&n.push(s.a.createElement(le.a.Item,{key:r},a.title))})),n}),[e.location.pathname,e.menus]);return s.a.createElement("div",{className:"bread"},s.a.createElement(de.a,{className:"icon"}),s.a.createElement(le.a,null,t))}n(314);function pe(){return s.a.createElement("div",{className:"loading"},s.a.createElement("img",{src:"data:image/gif;base64,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"}),s.a.createElement("div",null,"加载中..."))}var me,he=n(333),ge=(n(315),me=function(e,t){return(me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}me(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ae=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasError:!1},n}return ge(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}},t.prototype.componentDidUpdate=function(e){e.location!==this.props.location&&this.setState({hasError:!1})},t.prototype.render=function(){return this.state.hasError?s.a.createElement("div",{className:"error-boundary"},s.a.createElement(he.a,{className:"error-icon"}),s.a.createElement("div",null,"加载出错,请刷新页面")):this.props.children},t}(s.a.PureComponent),we=function(){return(we=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},Ee=F.a.Content,ye=[function(){return n.e(4).then(n.bind(null,651))},function(){return n.e(10).then(n.bind(null,652))},function(){return n.e(11).then(n.bind(null,659))},function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(12)]).then(n.bind(null,663))},function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(13)]).then(n.bind(null,654))},function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(8)]).then(n.bind(null,660))},function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(9)]).then(n.bind(null,656))}].map((function(e){return Object(N.a)(e,{fallback:s.a.createElement(pe,null)})})),be=ye[0],ve=ye[1],Ie=ye[2],ke=ye[3],Se=ye[4],Ue=ye[5],Be=ye[6];var Ce=Object(i.b)((function(e){return{userinfo:e.app.userinfo}}),(function(e){return{onLogout:e.app.onLogout}}))((function(e){var t=Object(r.useState)(!1),n=t[0],a=t[1],o=Object(r.useCallback)((function(){e.onLogout().then((function(){g.a.success("退出成功"),e.history.push("/user/login")}))}),[e]),i=Object(r.useCallback)((function(t){var n=[];e.userinfo.menus&&e.userinfo.menus.length?n=e.userinfo.menus:sessionStorage.getItem("userinfo")&&(n=JSON.parse(Q.a.uncompile(sessionStorage.getItem("userinfo")||"[]")).menus);for(var r=n.map((function(e){return e.url.replace(/^\//,"")})),s=t.split("/").filter((function(e){return!!e})),a=0;a<s.length;a++)if(!r.includes(s[a]))return!1;return!0}),[e.userinfo.menus]),u=Object(r.useCallback)((function(e,t){return i(t.location.pathname)?s.a.createElement(e,we({},t)):s.a.createElement(R.a,{to:"/nopower"})}),[i]);return s.a.createElement(F.a,{className:"page-basic",hasSider:!0},s.a.createElement(oe,{data:e.userinfo.menus,collapsed:n,location:e.location,history:e.history}),s.a.createElement(F.a,null,s.a.createElement(_,{collapsed:n,userinfo:e.userinfo,onToggle:function(){return a(!n)},onLogout:o}),s.a.createElement(fe,{menus:e.userinfo.menus,location:e.location}),s.a.createElement(Ee,{className:"content"},s.a.createElement(Ae,{location:e.location},s.a.createElement(R.d,null,s.a.createElement(R.a,{exact:!0,from:"/",to:"/home"}),s.a.createElement(R.b,{exact:!0,path:"/home",render:function(e){return u(Ie,e)}}),s.a.createElement(R.b,{exact:!0,path:"/system/menuadmin",render:function(e){return u(ke,e)}}),s.a.createElement(R.b,{exact:!0,path:"/system/poweradmin",render:function(e){return u(Se,e)}}),s.a.createElement(R.b,{exact:!0,path:"/system/roleadmin",render:function(e){return u(Ue,e)}}),s.a.createElement(R.b,{exact:!0,path:"/system/useradmin",render:function(e){return u(Be,e)}}),s.a.createElement(R.b,{exact:!0,path:"/nopower",component:ve}),s.a.createElement(R.b,{component:be})))),s.a.createElement(ue,null)))})),Oe=(n(316),F.a.Content),je=[function(){return n.e(4).then(n.bind(null,651))},function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,655))}].map((function(e){return Object(N.a)(e,{fallback:s.a.createElement(pe,null)})})),Re=je[0],Me=je[1];function Qe(){return s.a.createElement(F.a,{className:"page-user"},s.a.createElement(Oe,{className:"content"},s.a.createElement(R.d,null,s.a.createElement(R.a,{exact:!0,from:"/user",to:"/user/login"}),s.a.createElement(R.b,{exact:!0,path:"/user/login",component:Me}),s.a.createElement(R.b,{component:Re}))),s.a.createElement(ue,{className:"user-layout"}))}var Ne=function(){return(Ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};g.a.config({duration:2});var xe=Object(M.b)();var Fe=Object(i.b)((function(e){return{userinfo:e.app.userinfo}}),(function(e){return{setUserInfo:e.app.setUserInfo}}))((function(e){Object(r.useEffect)((function(){var t=sessionStorage.getItem("userinfo");t&&!e.userinfo.userBasicInfo&&e.setUserInfo(JSON.parse(Q.a.uncompile(t)))}),[e]);var t=Object(r.useCallback)((function(e,t){return sessionStorage.getItem("userinfo")?s.a.createElement(e,Ne({},t)):s.a.createElement(R.a,{to:"/user/login"})}),[]);return s.a.createElement(R.c,{history:xe},s.a.createElement(R.b,{render:function(){return s.a.createElement(R.d,null,s.a.createElement(R.b,{path:"/user",component:Qe}),s.a.createElement(R.b,{path:"/",render:function(e){return t(Ce,e)}}))}}))}));n(317),n(318),n(319);o.a.render(s.a.createElement((function(){return s.a.createElement(i.a,{store:C},s.a.createElement(Fe,null))}),null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/work/pwa",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="/work/pwa/service-worker.js";O?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):j(e,t)})).catch((function(){}))}(t,e),navigator.serviceWorker.ready.then((function(){}))):j(t,e)}))}}()},61:function(e,t,n){"use strict";var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},s={pointX:function(e,t){if(void 0===t&&(t=0),!e&&0!==e)return e;var n=Number(e);return 0===n||n?n.toFixed(t):e},trim:function(e){return e.replace(/^\s*|\s*$/g,"")},addMosaic:function(e){var t=String(e),n=t.length,r=function(){if(t.length<=2)return t.length;var e=t.length-2;return e<=6?e:6}(),s=Math.floor((n-r)/2);return t.split("").map((function(e,t){return t>=s&&t<s+r?"*":e})).join("")},checkStr:function(e){if(""===e)return!0;return/^[_a-zA-Z0-9]+$/.test(e)},checkNumber:function(e){if(!e)return!0;return/^\d*$/.test(e)},checkPhone:function(e){return/^1[34578]\d{9}$/.test(String(e))},checkEmail:function(e){return/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)},compile:function(e){for(var t=String.fromCharCode(e.charCodeAt(0)+e.length),n=1;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)+e.charCodeAt(n-1));return t},uncompile:function(e){for(var t=String.fromCharCode(e.charCodeAt(0)-e.length),n=1;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)-t.charCodeAt(n-1));return t},clearNull:function(e){var t=r({},e);return Object.keys(t).forEach((function(e){0===t[e]||t[e]||delete t[e]})),t}};t.a=s},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),s=n.n(r),a=n(324),o=Object(a.a)({scriptUrl:"//at.alicdn.com/t/font_1688075_vwak21i2wxj.js"});function i(e){return s.a.createElement(o,{type:e.type})}}});